webpackJsonp([1],{"+N46":function(t,e){},"/D+H":function(t,e){},"/WN6":function(t,e){},"/kga":function(t,e,s){"use strict";function i(t){s("270o")}var n=s("JkZY"),a=(n.a,Boolean,String,String,Number,String,String,Boolean,Object,Boolean,{mixins:[n.a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(t){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(t){this.$emit("update:show",t),this.$emit(t?"on-show":"on-hide"),t?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var t=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),e=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(t&&e)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===t.layout}},[s("transition",{attrs:{name:t.maskTransition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask",style:t.maskStyle,on:{click:t.hide}})]),t._v(" "),s("transition",{attrs:{name:t.dialogTransition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.dialogClass,style:t.dialogStyle},[t._t("default")],2)])],1)},o=[],l={render:r,staticRenderFns:o},c=l,u=s("VU/8"),h=i,d=u(a,c,!1,h,null,null);e.a=d.exports},"/smH":function(t,e){},"0GVd":function(t,e){},"1ene":function(t,e){},"1lqU":function(t,e){},"270o":function(t,e){},"38to":function(t,e){},"3Lt7":function(t,e,s){"use strict";var i=["-moz-box-","-webkit-box-",""],n=(Number,String,Number,String,["-moz-box-","-webkit-box-",""]),a={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(t){return"number"==typeof t?t<1?t:t/12:"string"==typeof t?t.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var t={},e="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(t[e]=this.$parent.gutter+"px"),this.span)for(var s=0;s<n.length;s++)t[n[s]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(t.order=this.order),t}},data:function(){return{bodyWidth:0}}},r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-flexbox-item",style:t.style},[t._t("default")],2)},o=[],l={render:r,staticRenderFns:o},c=l,u=s("VU/8"),h=u(a,c,!1,null,null,null);e.a=h.exports},"3k2l":function(t,e){},"5+/f":function(t,e){},"62KO":function(t,e,s){"use strict";function i(t){s("mL5d")}var n=s("/kga"),a=(n.a,Boolean,Boolean,String,String,Boolean,String,String,String,String,Number,String,String,String,Boolean,Object,Boolean,String,Boolean,Boolean,{name:"confirm",components:{XDialog:n.a},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"},showCancelButton:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(t){this.showValue=t},showValue:function(t){var e=this;this.$emit("input",t),t&&(this.showInput&&(this.msg="",setTimeout(function(){e.$refs.input&&e.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(t){this.msg=t},setInputFocus:function(t){t&&t.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-confirm"},[s("x-dialog",{attrs:{"dialog-class":"android"===t.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":t.maskTransition,"dialog-transition":"android"===t.theme?"vux-fade":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){return t.$emit("on-hide")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[t.title?s("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!t.showContent}},[s("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),t.showContent?[t.showInput?s("div",{staticClass:"vux-prompt"},["checkbox"===t.getInputAttrs().type?s("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.msg)?t._i(t.msg,null)>-1:t.msg},on:{touchend:t.setInputFocus,change:function(e){var s=t.msg,i=e.target,n=!!i.checked;if(Array.isArray(s)){var a=t._i(s,null);i.checked?a<0&&(t.msg=s.concat([null])):a>-1&&(t.msg=s.slice(0,a).concat(s.slice(a+1)))}else t.msg=n}}},"input",t.getInputAttrs(),!1)):"radio"===t.getInputAttrs().type?s("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.msg,null)},on:{touchend:t.setInputFocus,change:function(e){t.msg=null}}},"input",t.getInputAttrs(),!1)):s("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:t.getInputAttrs().type},domProps:{value:t.msg},on:{touchend:t.setInputFocus,input:function(e){e.target.composing||(t.msg=e.target.value)}}},"input",t.getInputAttrs(),!1))]):s("div",{staticClass:"weui-dialog__bd"},[t._t("default",[s("div",{domProps:{innerHTML:t._s(t.content)}})])],2)]:t._e(),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[t.showCancelButton?s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t._onCancel}},[t._v(t._s(t.cancelText||"取消"))]):t._e(),t._v(" "),t.showConfirmButton?s("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+t.confirmType,attrs:{href:"javascript:;"},on:{click:t._onConfirm}},[t._v(t._s(t.confirmText||"确定"))]):t._e()])],2)],1)},o=[],l={render:r,staticRenderFns:o},c=l,u=s("VU/8"),h=i,d=u(a,c,!1,h,null,null);e.a=d.exports},"6G1p":function(t,e){},"8Gte":function(t,e){},"9Z+i":function(t,e){},"9n4M":function(t,e){},Bfwr:function(t,e,s){"use strict";function i(t){s("Ozxy")}var n=(Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(t){this.$emit("update:show",t)}}}),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:t.transition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:t.text?"":"vux-loading-no-text"},[s("div",{staticClass:"weui-mask_transparent"}),t._v(" "),s("div",{staticClass:"weui-toast",style:{position:t.position}},[s("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),t.text?s("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2):t._e()])])])},r=[],o={render:a,staticRenderFns:r},l=o,c=s("VU/8"),u=i,h=c(n,l,!1,u,null,null);e.a=h.exports},DDbe:function(t,e){},DPlV:function(t,e){},ILcy:function(t,e){},JDMP:function(t,e){},JWHF:function(t,e){},"K/kk":function(t,e){},KSwY:function(t,e){},"L3+R":function(t,e){},NHnr:function(t,e,s){"use strict";function i(t){s("m3lC")}function n(t){s("1lqU")}function a(t){s("TEg0")}function r(t){s("38to")}function o(t){s("Zvmn")}function l(t){s("DPlV")}function c(t){s("9n4M")}function u(t){s("3k2l")}function h(t){s("jNmg")}function d(t){s("vhib")}function p(t){s("8Gte")}function m(t){s("ILcy")}function f(t){s("Qt30")}function v(t){s("5+/f")}function g(t){s("6G1p")}function x(t){s("+N46")}function w(t){s("lOIT")}function _(t){s("9Z+i")}function b(t){s("ok/j")}function y(t){s("VXwM")}function C(t){s("cZO8")}function k(t){s("s99l")}function S(t){s("XKpp")}function I(t){s("K/kk")}function $(t){s("U4t6"),s("JDMP")}function L(t){s("JWHF")}function V(t){s("loFO")}function T(t){s("ibxO")}function N(t){s("/smH")}function D(t){s("jnM/")}function B(t){s("fNHR")}function R(t){s("KSwY")}function A(t){s("ooNg")}function O(t){s("/WN6")}function E(t){s("1ene")}function F(t){s("P2gy")}function P(t){s("0GVd")}function M(t){s("SJou")}function U(t){s("g1BM")}function j(t){s("qv/J")}function H(t){s("DDbe")}function q(t){s("wUFq")}function z(t){s("o6Ww")}function W(t){s("W3sw")}function X(t){s("Tkzw")}function J(t){s("z/Mi")}function G(t){s("ob0I")}function Y(t){s("/D+H")}function Z(t){s("wZSV")}Object.defineProperty(e,"__esModule",{value:!0});var K=s("7+uW"),Q=s("v5o6"),tt=s.n(Q),et=s("/ocq"),st=s("Xxa5"),it=s.n(st),nt=s("exGp"),at=s.n(nt),rt=s("piuB"),ot=(rt.b,String,{mounted:function(){},name:"tabbar",mixins:[rt.b],props:{iconClass:String}}),lt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"weui-tabbar"},[t._t("default")],2)},ct=[],ut={render:lt,staticRenderFns:ct},ht=ut,dt=s("VU/8"),pt=i,mt=dt(ot,ht,!1,pt,null,null),ft=mt.exports,vt=(String,Number,{name:"badge",props:{text:[String,Number]}}),gt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:["vux-badge",{"vux-badge-dot":void 0===t.text,"vux-badge-single":void 0!==t.text&&1===t.text.toString().length}],domProps:{textContent:t._s(t.text)}})},xt=[],wt={render:gt,staticRenderFns:xt},_t=wt,bt=s("VU/8"),yt=n,Ct=bt(vt,_t,!1,yt,null,null),kt=Ct.exports,St=(rt.a,Boolean,String,String,Object,String,{name:"tabbar-item",components:{Badge:kt},mounted:function(){this.$slots.icon||(this.simple=!0),this.$slots["icon-active"]&&(this.hasActiveIcon=!0)},mixins:[rt.a],props:{showDot:{type:Boolean,default:!1},badge:String,link:[String,Object],iconClass:String},computed:{isActive:function(){return this.$parent.index===this.currentIndex}},data:function(){return{simple:!1,hasActiveIcon:!1}}}),It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"weui-tabbar__item",class:{"weui-bar__item_on":t.isActive,"vux-tabbar-simple":t.simple},attrs:{href:"javascript:;"},on:{click:function(e){return t.onItemClick(!0)}}},[t.simple?t._e():s("div",{staticClass:"weui-tabbar__icon",class:[t.iconClass||t.$parent.iconClass,{"vux-reddot":t.showDot}]},[t.simple||t.hasActiveIcon&&t.isActive?t._e():t._t("icon"),t._v(" "),!t.simple&&t.hasActiveIcon&&t.isActive?t._t("icon-active"):t._e(),t._v(" "),t.badge?s("sup",[s("badge",{attrs:{text:t.badge}})],1):t._e()],2),t._v(" "),s("p",{staticClass:"weui-tabbar__label"},[t._t("label")],2)])},$t=[],Lt={render:It,staticRenderFns:$t},Vt=Lt,Tt=s("VU/8"),Nt=Tt(St,Vt,!1,null,null,null),Dt=Nt.exports,Bt=s("fZjL"),Rt=s.n(Bt),At=s("+v63"),Ot=s("te2A"),Et=(Boolean,String,String,Boolean,Boolean,Boolean,String,String,Object,Boolean,Boolean,Boolean,{name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var t=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var e=t;t.popup=new At.a({showMask:e.showMask,container:e.$el,hideOnBlur:e.hideOnBlur,onOpen:function(){e.fixSafariOverflowScrolling("auto"),e.show=!0},onClose:function(){e.show=!1,window.__$vuxPopups&&Rt()(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){e.fixSafariOverflowScrolling("touch")},300)}}),t.value&&t.popup.show(),t.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(t){if(this.$overflowScrollingList.length)for(var e=0;e<this.$overflowScrollingList.length;e++)this.$overflowScrollingList[e].style.webkitOverflowScrolling=t},removeModalClassName:function(){"VIEW_BOX"===this.layout&&Ot.a.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&Ot.a.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var t=this;this.$nextTick(function(){t.$el.scrollTop=0;var e=t.$el.querySelectorAll(".vux-scrollable");if(e.length)for(var s=0;s<e.length;s++)e[s].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var t={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?t.width=this.width:t.height=this.height,this.maxHeight&&(t["max-height"]=this.maxHeight),this.isTransparent&&(t.background="transparent"),this.popupStyle)for(var e in this.popupStyle)t[e]=this.popupStyle[e];return t}},watch:{value:function(t){this.show=t},show:function(t){var e=this;this.$emit("input",t),t?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){e.scrollTop(),e.shouldRenderBody=!0,e.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||e.fixSafariOverflowScrolling("touch"),e.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}),Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"vux-popup-animate-"+t.position}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show&&!t.initialShow,expression:"show && !initialShow"}],staticClass:"vux-popup-dialog",class:["vux-popup-"+t.position,t.show?"vux-popup-show":""],style:t.styles},[t.shouldRenderBody?t._t("default"):t._e()],2)])},Pt=[],Mt={render:Ft,staticRenderFns:Pt},Ut=Mt,jt=s("VU/8"),Ht=a,qt=jt(Et,Ut,!1,Ht,null,null),zt=qt.exports,Wt=s("//Fk"),Xt=s.n(Wt),Jt=function(){return new Xt.a(function(t,e){function s(e){t(e)}function i(t){e(t)}navigator.camera.getPicture(s,i,{quality:100,destinationType:Camera.DestinationType.FILE_URL,sourceType:1})})},Gt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;return new Xt.a(function(e,s){ImagePicker.getPictures(function(t){var s=t.images,i=[];s.forEach(function(t,e){i.push(t.path)}),e(i)},function(t){s(t)},{maximumImagesCount:t,width:675,height:934,quality:100})})},Yt=function(t){return new Xt.a(function(e,s){var i={data:t,prefix:"suishoupai_img_",format:"JPG",quality:100,mediaScanner:!0};window.imageSaver.saveBase64Image(i,function(t){e(t)},function(t){s(t)})})},Zt=s("Zrlr"),Kt=s.n(Zt),Qt=s("wxAW"),te=s.n(Qt),ee=s("mw3O"),se=["snsapi_base","snsapi_userinfo"],ie=function(){function t(){Kt()(this,t),this.appid=null,this.redirect_uri=null,this.scope=se[1],this._code=null,this._redirect_uri=null}return te()(t,[{key:"install",value:function(t,e){var s=this;this.setAppId(e.appid),t.mixin({created:function(){this.$wechatAuth=s}})}},{key:"setAppId",value:function(t){this.appid=t}},{key:"returnFromWechat",value:function(t){var e=ee.parse(t.split("?")[1]);if(null===this.state)throw"You did't set state";if(e.state!==this.state)throw this.state=null,"Wrong state: "+e.state;this.state=null,this._code=e.code}},{key:"redirect_uri",set:function(t){this._redirect_uri=encodeURIComponent(t)},get:function(){return this._redirect_uri}},{key:"state",get:function(){return localStorage.getItem("wechat_auth:state")},set:function(t){localStorage.setItem("wechat_auth:state",t)}},{key:"authUrl",get:function(){if(null===this.appid)throw"appid must not be null";if(null===this.redirect_uri)throw"redirect uri must not be null";return this.state=t.makeState(),"https://open.weixin.qq.com/connect/oauth2/authorize?appid="+this.appid+"&redirect_uri="+this.redirect_uri+"&response_type=code&scope="+this.scope+"&state="+this.state+"#wechat_redirect"}},{key:"code",get:function(){if(null===this._code)throw"Not get the code from wechat server!";var t=this._code;return this._code=null,t}}],[{key:"makeState",value:function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}]),t}(),ne=new ie;"undefined"!=typeof window&&window.Vue&&window.Vue.use(ie);var ae=ne,re=(s("mw3O"),s("mw3O"),{name:"app",data:function(){return{photos:[],transitionName:"vux-pop",showTabbar:!0,releaseShowState:!1,userInfo:null}},created:function(){switch(this.$route.path){case"/":case"/page/UserIndex":this.showTabbar=!0;break;default:this.showTabbar=!1}},methods:{releaseShow:function(){var t=this;localStorage.getItem("userInfo")?this.releaseShowState=!0:this.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){t.$router.push({path:"/page/user/LoginIndex"})}})},takephoto:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt();case 2:s=e.sent,t.photos.push(s),t.$router.push({path:"/page/release/ReleaseImgEdit",name:"ReleaseImgEdit",params:{photos:t.photos}}),t.releaseShowState=!1;case 6:case"end":return e.stop()}},e,t)}))()},selectImg:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt();case 2:s=e.sent,s.length&&t.$router.push({path:"/page/release/ReleaseImgEdit",name:"ReleaseImgEdit",params:{photos:t.photos.concat(s)}}),t.releaseShowState=!1;case 5:case"end":return e.stop()}},e,t)}))()}},watch:{$route:function(t,e){switch(t.path){case"/":case"/page/UserIndex":this.showTabbar=!0;break;default:this.showTabbar=!1}}},components:{Tabbar:ft,TabbarItem:Dt,Popup:zt}}),oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.$route.meta.keepAlive?s("transition",{attrs:{name:t.transitionName}},[s("keep-alive",[s("router-view")],1)],1):s("transition",{attrs:{name:t.transitionName}},[s("router-view")],1),t._v(" "),t.showTabbar?s("tabbar",{staticClass:"tabbar"},[s("tabbar-item",{attrs:{selected:"/"==t.$route.path,link:"/"}},[s("i",{staticClass:"iconfont icon-suipai",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),s("span",{attrs:{slot:"label"},slot:"label"},[t._v("随手拍")])]),t._v(" "),s("tabbar-item",[s("i",{staticClass:"iconfont icon-tianjiafabu",attrs:{slot:"icon"},on:{click:t.releaseShow},slot:"icon"})]),t._v(" "),s("tabbar-item",{attrs:{selected:"/page/UserIndex"==t.$route.path,link:"/page/UserIndex"}},[s("i",{staticClass:"iconfont icon-wode",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),s("span",{attrs:{slot:"label"},slot:"label"},[t._v("我的")])])],1):t._e(),t._v(" "),s("popup",{attrs:{height:"calc(190 *2 / 7.5 * 1vw)","is-transparent":""},model:{value:t.releaseShowState,callback:function(e){t.releaseShowState=e},expression:"releaseShowState"}},[s("div",{staticClass:"release-view"},[s("span",{on:{click:t.takephoto}},[s("i",{staticClass:"iconfont icon-xiangji",attrs:{slot:"icon"},slot:"icon"}),t._v("\n        拍照\n      ")]),t._v(" "),s("span",{on:{click:t.selectImg}},[s("i",{staticClass:"iconfont icon-xiangce",attrs:{slot:"icon"},slot:"icon"}),t._v("\n        相册\n      ")])])])],1)},le=[],ce={render:oe,staticRenderFns:le},ue=ce,he=s("VU/8"),de=r,pe=he(re,ue,!1,de,null,null),me=pe.exports,fe=s("BEQ0"),ve=s.n(fe),ge=(Object,String,String,Object,{name:"x-header",props:{leftOptions:Object,title:String,transition:String,rightOptions:{type:Object,default:function(){return{showMore:!1}}}},beforeMount:function(){this.$slots["overwrite-title"]&&(this.shouldOverWriteTitle=!0)},computed:{_leftOptions:function(){return ve()({showBack:!0,preventGoBack:!1},this.leftOptions||{})}},methods:{onClickBack:function(){this._leftOptions.preventGoBack?this.$emit("on-click-back"):this.$router?this.$router.back():window.history.back()}},data:function(){return{shouldOverWriteTitle:!1}}}),xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-header"},[s("div",{staticClass:"vux-header-left"},[t._t("overwrite-left",[s("transition",{attrs:{name:t.transition}},[s("a",{directives:[{name:"show",rawName:"v-show",value:t._leftOptions.showBack,expression:"_leftOptions.showBack"}],staticClass:"vux-header-back",on:{click:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"preventDefault",void 0,e.key,void 0))return null},t.onClickBack]}},[t._v(t._s(void 0===t._leftOptions.backText?"返回":t._leftOptions.backText))])]),t._v(" "),s("transition",{attrs:{name:t.transition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t._leftOptions.showBack,expression:"_leftOptions.showBack"}],staticClass:"left-arrow",on:{click:t.onClickBack}})])]),t._v(" "),t._t("left")],2),t._v(" "),t.shouldOverWriteTitle?t._e():s("h1",{staticClass:"vux-header-title",on:{click:function(e){return t.$emit("on-click-title")}}},[t._t("default",[s("transition",{attrs:{name:t.transition}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}]},[t._v(t._s(t.title))])])])],2),t._v(" "),t.shouldOverWriteTitle?s("div",{staticClass:"vux-header-title-area"},[t._t("overwrite-title")],2):t._e(),t._v(" "),s("div",{staticClass:"vux-header-right"},[t.rightOptions.showMore?s("a",{staticClass:"vux-header-more",on:{click:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"preventDefault",void 0,e.key,void 0))return null},function(e){return t.$emit("on-click-more")}]}}):t._e(),t._v(" "),t._t("right")],2)])},we=[],_e={render:xe,staticRenderFns:we},be=_e,ye=s("VU/8"),Ce=o,ke=ye(ge,be,!1,Ce,null,null),Se=ke.exports,Ie=s("iRq5"),$e=s.n(Ie),Le=s("p3QP"),Ve=s("OFgA"),Te=(Ve.a,String,String,String,String,String,Number,Object,String,Number,String,{name:"x-img",mixins:[Ve.a],created:function(){this.$vux&&this.$vux.bus&&this.$vux.bus.$on("vux:after-view-enter",this.init)},methods:{init:function(){var t=this;this.blazy&&this.blazy.destroy(),this.$el.src=this.defaultSrc,this.$el.className=this.$el.className.replace("b-loaded",""),this.blazy=new $e.a({scroller:this.scroller,container:this.container,selector:"#vux-ximg-"+this.uuid,offset:t.offset,errorClass:t.errorClass,successClass:t.successClass,separator:t.separator,success:function(e){t.$emit("on-success",t.src,e)},error:function(e,s){t.$emit("on-error",t.src,e,s)}})}},mounted:function(){var t=this;this.$el.setAttribute("id","vux-ximg-"+this.uuid),this.$nextTick(function(){setTimeout(function(){t.init()},t.delay)}),Object(Le.a)()},computed:{currentSrc:function(){return Object(Le.b)()&&this.webpSrc?this.webpSrc:this.src}},props:{src:String,webpSrc:String,defaultSrc:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},errorClass:String,successClass:String,offset:{type:Number,default:100},scroller:Object,container:String,delay:{type:Number,default:0},separator:String},watch:{src:function(t){this.init()}},beforeDestroy:function(){this.blazy&&this.blazy.destroy(),this.blazy=null,this.$vux&&this.$vux.bus&&this.$vux.bus.$off("vux:after-view-enter",this.init)}}),Ne=function(){var t=this,e=t.$createElement;return(t._self._c||e)("img",{staticClass:"vux-x-img",attrs:{src:t.defaultSrc,"data-src":t.currentSrc}})},De=[],Be={render:Ne,staticRenderFns:De},Re=Be,Ae=s("VU/8"),Oe=l,Ee=Ae(Te,Re,!1,Oe,null,null),Fe=Ee.exports,Pe=s("0FxO"),Me=(Object,Object,{name:"card",props:{header:Object,footer:Object},methods:{onClickFooter:function(){this.footer.link&&Object(Pe.a)(this.footer.link,this.$router),this.$emit("on-click-footer")}}}),Ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"weui-panel weui-panel_access"},[t.header&&t.header.title?s("div",{staticClass:"weui-panel__hd",domProps:{innerHTML:t._s(t.header.title)},on:{click:function(e){return t.$emit("on-click-header")}}}):t._e(),t._v(" "),t._t("header"),t._v(" "),s("div",{staticClass:"weui-panel__bd"},[s("div",{staticClass:"vux-card-content"},[t._t("content")],2)]),t._v(" "),s("div",{staticClass:"weui-panel__ft"},[t.footer&&t.footer.title?s("a",{staticClass:"weui-cell weui-cell_access weui-cell_link",attrs:{href:"javascript:"},on:{click:t.onClickFooter}},[s("div",{staticClass:"weui-cell__bd",domProps:{innerHTML:t._s(t.footer.title)}})]):t._e()]),t._v(" "),t._t("footer")],2)},je=[],He={render:Ue,staticRenderFns:je},qe=He,ze=s("VU/8"),We=c,Xe=ze(Me,qe,!1,We,null,null),Je=Xe.exports,Ge={name:"inline-desc"},Ye=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"vux-label-desc"},[t._t("default")],2)},Ze=[],Ke={render:Ye,staticRenderFns:Ze},Qe=Ke,ts=s("VU/8"),es=u,ss=ts(Ge,Qe,!1,es,null,null),is=ss.exports,ns=s("2IIR"),as=s("wmxo"),rs=s("vLYD"),os=(Object(ns.a)(),{name:"cell",components:{InlineDesc:is},props:Object(ns.a)(),created:function(){},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return Object(as.a)({width:Object(rs.a)(this,"labelWidth"),textAlign:Object(rs.a)(this,"labelAlign"),marginRight:Object(rs.a)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&Object(Pe.a)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}),ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"weui-cell",class:{"vux-tap-active":t.isLink||!!t.link,"weui-cell_access":t.isLink||!!t.link,"vux-cell-no-border-intent":!t.borderIntent,"vux-cell-disabled":t.disabled},style:t.style,on:{click:t.onClick}},[s("div",{staticClass:"weui-cell__hd"},[t._t("icon")],2),t._v(" "),s("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===t.primary&&"left"!==t.valueAlign}},[s("p",[t.title||t.hasTitleSlot?s("label",{staticClass:"vux-label",class:t.labelClass,style:t.labelStyles},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t._v(" "),t._t("after-title")],2),t._v(" "),s("inline-desc",[t._t("inline-desc",[t._v(t._s(t.inlineDesc))])],2)],1),t._v(" "),s("div",{staticClass:"weui-cell__ft",class:t.valueClass},[t._t("value"),t._v(" "),t._t("default",[t._v(t._s(t.value))]),t._v(" "),t.isLoading?s("i",{staticClass:"weui-loading"}):t._e()],2),t._v(" "),t._t("child")],2)},cs=[],us={render:ls,staticRenderFns:cs},hs=us,ds=s("VU/8"),ps=h,ms=ds(os,hs,!1,ps,null,null),fs=ms.exports,vs=s("mvHQ"),gs=s.n(vs),xs=s("OAwv"),ws=s.n(xs),_s={getData:function(t){var e=this;return"get"==t.method?new Xt.a(function(s,i){fetch("http://www.shedouwang.com/apiapp"+t.url).then(function(t){return t.json()}).then(function(t){"success"==t.return_code?s(t.return_data):e.$vux.alert.show({title:"提示",content:t.return_data})}).catch(function(t){i(t)})}):new Xt.a(function(s,i){fetch("http://www.shedouwang.com/apiapp"+t.url,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:t.method,body:ws.a.stringify(t.param)}).then(function(t){return t.json()}).then(function(t){"success"==t.return_code?s(t.return_data):e.$vux.alert.show({title:"提示",content:t.return_data})}).catch(function(t){i(t)})})},request:function(t){return"get"==t.method?new Xt.a(function(e,s){fetch("http://www.shedouwang.com/apiapp"+t.url).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){s(t)})}):new Xt.a(function(e,s){fetch("http://www.shedouwang.com/apiapp"+t.url,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:t.method,body:ws.a.stringify(t.param)}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){s(t)})})},testRequest:function(t){return"get"==t.method?new Xt.a(function(e,s){fetch("http://localhost:3000"+t.url).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){s(t)})}):new Xt.a(function(e,s){fetch("http://localhost:3000"+t.url,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:t.method,body:ws.a.stringify(t.param)}).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){s(t)})})},convertImg:function(t,e,s){return new Xt.a(function(i,n){var a=document.createElement("CANVAS"),r=a.getContext("2d"),o=new Image;o.setAttribute("crossOrigin","Anonymous"),o.src=t,setTimeout(function(){o.width>o.height?(a.width=e,a.height=a.width/o.width*o.height):(a.height=s,a.width=a.height/o.height*o.width),r.drawImage(o,0,0,o.width,o.height,0,0,a.width,a.height),setTimeout(function(){i(a.toDataURL("image/jpeg",.6))},100)},200)})},formdata:function(t){var e=new FormData;Rt()(t).forEach(function(s){t[s]instanceof Array?(e.append(s,t[s]),t[s].forEach(function(t){e.append(s,t+"")})):e.append(s,t[s]+"")})},wechatLogin:function(t){var e=this,s="_"+ +new Date;Wechat.auth("snsapi_userinfo",s,function(){var s=at()(it.a.mark(function s(i){var n;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.getData({url:"/oauth/index?code="+i.code,method:"get"});case 2:n=s.sent,0==n.bind?t.$router.push({path:"/page/user/BandUserInfo",name:"BandUserInfo",params:{wechatUserinfo:n}}):(localStorage.setItem("userInfo",gs()(n)),t.$vux.toast.show({text:"登录成功",onHide:function(){t.$router.push({path:"/"})}}));case 4:case"end":return s.stop()}},s,e)}));return function(t){return s.apply(this,arguments)}}(),function(t){this.$vux.alert.show({title:"提示",content:"Failed: "+t})})}},bs=(function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{this.userId=JSON.parse(localStorage.getItem("userInfo")).id}catch(t){this.userId=!1}if(!this.userId){t.next=13;break}return this.$vux.loading.show({text:"Loading"}),t.next=5,_s.getData({url:"/users/usersinfos?loginid="+this.userId,method:"get"});case 5:e=t.sent,e.usersinfos.logos=e.usersinfos.logos||"static/img/default-avatar.png",e.usersinfos.remarks=e.usersinfos.remarks||"当前大咖有点儿懒。。。",this.userInfo=e,this.loginState=!0,this.$vux.loading.hide(),t.next=15;break;case 13:this.loginState=!1,this.userInfo={my_fans_total:0,my_follow_total:0,my_post_total:0,my_praise_total:0,usersinfos:{gender:"-1",logos:"static/img/default-avatar.png",nicknames:"未登录",remarks:null}};case 15:case"end":return t.stop()}},t,this)}))}(),{data:function(){return{userId:"",userInfo:null,loginState:!1,cellArr:[{title:"我的发布",iconclass:"icon-fabu",name:"MyRelease",pageUrl:"/page/MyRelease",params:{type:"current"}},{title:"我的关注",iconclass:"icon-guanzhu",name:"MyFollow",pageUrl:"/page/MyFollow"},{title:"我的收藏",iconclass:"icon-shoucangxianxing",name:"MyCollect",pageUrl:"/page/MyCollect"},{title:"我的粉丝",iconclass:"icon-fensi",name:"MyFan",pageUrl:"/page/MyFan"},{title:"我的收入",iconclass:"icon-shouru",name:"MyIncome",pageUrl:"/page/MyIncome"}]}},components:{XHeader:Se,Tabbar:ft,TabbarItem:Dt,XImg:Fe,Card:Je,Cell:fs},created:function(){},mounted:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{this.userId=JSON.parse(localStorage.getItem("userInfo")).id}catch(t){this.userId=!1}if(!this.userId){t.next=13;break}return this.$vux.loading.show({text:"Loading"}),t.next=5,_s.getData({url:"/users/usersinfos?loginid="+this.userId,method:"get"});case 5:e=t.sent,e.usersinfos.logos=e.usersinfos.logos||"static/img/default-avatar.png",e.usersinfos.remarks=e.usersinfos.remarks||"当前大咖有点儿懒。。。",this.userInfo=e,this.loginState=!0,this.$vux.loading.hide(),t.next=15;break;case 13:this.loginState=!1,this.userInfo={my_fans_total:0,my_follow_total:0,my_post_total:0,my_praise_total:0,usersinfos:{gender:"-1",logos:"static/img/default-avatar.png",nicknames:"未登录",remarks:null}};case 15:case"end":return t.stop()}},t,this)}));return t}(),methods:{toSetPage:function(){this.$router.push("/page/MySet")},to:function(){this.userId?this.$router.push("/page/user/SetUserInfo"):this.$router.push("/page/user/LoginIndex")},toPageUrl:function(t){var e=this;this.loginState?this.$router.push({path:t.pageUrl,name:t.name,params:t.params}):this.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){e.$router.push({path:"/page/user/LoginIndex"})}})}}}),ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.userInfo?s("div",{staticClass:"UserIndex"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{showBack:!1}}},[t._v("\n    我的\n    "),s("i",{staticClass:"iconfont icon-shezhi",attrs:{slot:"right"},on:{click:t.toSetPage},slot:"right"})]),t._v(" "),s("div",{on:{click:t.to}},[s("x-img",{staticClass:"avatar",attrs:{"default-src":t.userInfo.usersinfos.logos}}),t._v(" "),s("div",{staticClass:"username"},[t._v("\n      "+t._s(t.userInfo.usersinfos.nicknames)+"\n      "),1==t.userInfo.usersinfos.gender?s("i",{staticClass:"iconfont icon-nansheng"}):s("i",{staticClass:"iconfont icon-nvsheng"})]),t._v(" "),s("div",{staticClass:"signature"},[t._v(t._s(t.userInfo.usersinfos.remarks))])],1),t._v(" "),s("card",[s("div",{staticClass:"card-demo-flex card-demo-content01",attrs:{slot:"content"},slot:"content"},[s("router-link",{attrs:{to:""}},[s("span",[t._v(t._s(t.userInfo.my_post_total))]),t._v(" "),s("br"),t._v("发布\n      ")]),t._v(" "),s("router-link",{attrs:{to:""}},[s("span",[t._v(t._s(t.userInfo.my_follow_total))]),t._v(" "),s("br"),t._v("关注\n      ")]),t._v(" "),s("router-link",{attrs:{to:""}},[s("span",[t._v(t._s(t.userInfo.my_fans_total))]),t._v(" "),s("br"),t._v("粉丝\n      ")]),t._v(" "),s("router-link",{attrs:{to:""}},[s("span",[t._v(t._s(t.userInfo.my_praise_total))]),t._v(" "),s("br"),t._v("获赞\n      ")])],1)]),t._v(" "),s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.cellArr,function(e,i){return s("cell",{key:i,attrs:{title:e.title},nativeOn:{click:function(s){return t.toPageUrl(e)}}},[s("i",{staticClass:"iconfont",class:e.iconclass,attrs:{slot:"icon"},slot:"icon"})])}),1)])],1):t._e()},Cs=[],ks={render:ys,staticRenderFns:Cs},Ss=ks,Is=s("VU/8"),$s=d,Ls=Is(bs,Ss,!1,$s,null,null),Vs=Ls.exports,Ts=s("YxJB"),Ns=s("3Lt7"),Ds=(as.a,String,String,String,String,String,String,Number,String,String,{name:"group",methods:{cleanStyle:as.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}),Bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.title?s("div",{staticClass:"weui-cells__title",style:t.cleanStyle({color:t.titleColor}),domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t._t("title"),t._v(" "),s("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!t.title},style:t.cleanStyle({marginTop:"number"==typeof t.gutter?t.gutter+"px":t.gutter})},[t._t("after-title"),t._v(" "),t._t("default")],2),t._v(" "),t.footerTitle?s("div",{staticClass:"weui-cells__title vux-group-footer-title",style:t.cleanStyle({color:t.footerTitleColor}),domProps:{innerHTML:t._s(t.footerTitle)}}):t._e()],2)},Rs=[],As={render:Bs,staticRenderFns:Rs},Os=As,Es=s("VU/8"),Fs=p,Ps=Es(Ds,Os,!1,Fs,null,null),Ms=Ps.exports,Us=s("f6Hi"),js=(String,Boolean,{name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}),Hs=function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{class:[t.className,t.isMsg?"weui-icon_msg":""]})},qs=[],zs={render:Hs,staticRenderFns:qs},Ws=zs,Xs=s("VU/8"),Js=m,Gs=Xs(js,Ws,!1,Js,null,null),Ys=Gs.exports,Zs=s("rLAy"),Ks=s("2LX0"),Qs=s.n(Ks),ti=s("Ewe+"),ei=s.n(ti),si=s("nror"),ii=s("lFEC"),ni=s.n(ii),ai={email:{fn:Qs.a,msg:"邮箱格式"},"china-mobile":{fn:function(t){return ei()(t,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(t){return t.length>=2&&t.length<=6},msg:"中文姓名"}},ri=(Us.a,Zs.a,String,String,String,String,Number,String,Boolean,Boolean,String,String,String,Function,Number,Number,Boolean,String,String,String,String,String,String,Boolean,String,Number,String,String,String,Boolean,{email:{fn:Qs.a,msg:"邮箱格式"},"china-mobile":{fn:function(t){return ei()(t,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(t){return t.length>=2&&t.length<=6},msg:"中文姓名"}}),oi={name:"x-input",created:function(){var t=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=Object(si.a)(function(){t.$emit("on-change",t.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[Us.a],components:{Icon:Ys,InlineDesc:is,Toast:Zs.a},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var t=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(t<10)return t+"em"},hasErrors:function(){return Rt()(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;/iphone/i.test(navigator.userAgent),"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){t.$refs.input.scrollIntoViewIfNeeded(!0)},e)},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(t){return this.mask?ni.a.toPattern(t,this.mask):t},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=t,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(t){var e=this;this.$emit("on-focus",this.currentValue,t),this.isFocus=!0,setTimeout(function(){e.$refs.input.scrollIntoViewIfNeeded(!1)},1e3)},onBlur:function(t){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,t)},onKeyUp:function(t){"Enter"===t.key&&(t.target.blur(),this.$emit("on-enter",this.currentValue,t))},getError:function(){var t=Rt()(this.errors)[0];this.firstError=this.errors[t]},validate:function(){if(void 0!==this.equalWith)return void this.validateEqual();if(this.errors={},!this.currentValue&&!this.required)return void(this.valid=!0);if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var t=ri[this.isType];if(t){var e=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(e=this.currentValue.replace(/\s+/g,"")),this.valid=t.fn(e),!this.valid)return this.forceShowError=!0,this.errors.format=t.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var s=this.isType(this.currentValue);if(this.valid=s.valid,!this.valid)return this.errors.format=s.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))},_getInputMaskSelection:function(t,e,s,i){if(!this.mask||i&&0===e)return t;if(0===e&&(e=this.lastDirection),e>0){if(!this.mask.substr(t-e,1).match(/[9SA]/))return this._getInputMaskSelection(t+1,e,s,!0)}return t}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(t){t&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(t){this.currentValue=t},equalWith:function(t){t&&this.equalWith?(t.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(t,e){var s=this;!this.equalWith&&t&&this.validateEqual(),t&&this.equalWith?(t.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate();var i=this.$refs.input.selectionStart,n=t.length-e.length;i=this._getInputMaskSelection(i,n,this.maskValue(t)),this.lastDirection=n,this.$emit("input",this.maskValue(t)),this.$nextTick(function(){s.$refs.input.selectionStart!==i&&(s.$refs.input.selectionStart=i,s.$refs.input.selectionEnd=i),s.currentValue!==s.maskValue(t)&&(s.currentValue=s.maskValue(t))}),this._debounce?this._debounce():this.$emit("on-change",t)}}},li=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-x-input weui-cell",class:{"weui-cell_warn":t.showWarn,disabled:t.disabled,"vux-x-input-has-right-full":t.hasRightFullHeightSlot}},[s("div",{staticClass:"weui-cell__hd"},[t.hasRestrictedLabel?s("div",{style:t.labelStyles},[t._t("restricted-label")],2):t._e(),t._v(" "),t._t("label",[t.title?s("label",{staticClass:"weui-label",class:t.labelClass,style:{width:t.labelWidth||t.$parent.labelWidth||t.labelWidthComputed,textAlign:t.$parent.labelAlign,marginRight:t.$parent.labelMarginRight},attrs:{for:"vux-x-input-"+t.uuid},domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t.inlineDesc?s("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()])],2),t._v(" "),s("div",{staticClass:"weui-cell__bd weui-cell__primary",class:t.placeholderAlign?"vux-x-input-placeholder-"+t.placeholderAlign:""},[t.type&&"text"!==t.type?t._e():s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"text",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}),t._v(" "),"number"===t.type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"number",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):t._e(),t._v(" "),"email"===t.type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"email",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):t._e(),t._v(" "),"password"===t.type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"password",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):t._e(),t._v(" "),"tel"===t.type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"tel",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):t._e()]),t._v(" "),s("div",{staticClass:"weui-cell__ft"},[s("icon",{directives:[{name:"show",rawName:"v-show",value:!t.hasRightFullHeightSlot&&!t.equalWith&&t.showClear&&""!==t.currentValue&&!t.readonly&&!t.disabled&&t.isFocus,expression:"!hasRightFullHeightSlot && !equalWith && showClear && currentValue !== '' && !readonly && !disabled && isFocus"}],attrs:{type:"clear"},nativeOn:{click:function(e){return t.clear(e)}}}),t._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:t.showWarn,expression:"showWarn"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:t.valid?"":t.firstError},nativeOn:{click:function(e){return t.onClickErrorIcon(e)}}}),t._v(" "),!t.novalidate&&t.hasLengthEqual&&t.dirty&&t.equalWith&&!t.valid?s("icon",{staticClass:"vux-input-icon",attrs:{type:"warn"},nativeOn:{click:function(e){return t.onClickErrorIcon(e)}}}):t._e(),t._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:!t.novalidate&&t.equalWith&&t.equalWith===t.currentValue&&t.valid,expression:"!novalidate && equalWith && equalWith === currentValue && valid"}],attrs:{type:"success"}}),t._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:t.novalidate&&"success"===t.iconType,expression:"novalidate && iconType === 'success'"}],staticClass:"vux-input-icon",attrs:{type:"success"}}),t._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:t.novalidate&&"error"===t.iconType,expression:"novalidate && iconType === 'error'"}],staticClass:"vux-input-icon",attrs:{type:"warn"}}),t._v(" "),t._t("right"),t._v(" "),t.hasRightFullHeightSlot?s("div",{staticClass:"vux-x-input-right-full"},[t._t("right-full-height")],2):t._e()],2),t._v(" "),s("toast",{attrs:{type:"text",width:"auto",time:600},model:{value:t.showErrorToast,callback:function(e){t.showErrorToast=e},expression:"showErrorToast"}},[t._v(t._s(t.firstError))])],1)},ci=[],ui={render:li,staticRenderFns:ci},hi=ui,di=s("VU/8"),pi=f,mi=di(oi,hi,!1,pi,null,null),fi=mi.exports,vi=s("pFYg"),gi=s.n(vi),xi=s("+geU"),wi=s("F3HL"),_i=s("zDi5"),bi=s("NE4E"),yi=(s("cEdU"),wi.a,wi.b,Array,Number,Number,Array,String,Array,{name:"picker",components:{Flexbox:wi.a,FlexboxItem:wi.b},created:function(){if(0!==this.columns){var t=this.columns;this.store=new _i.a(this.data,t,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.value)}},mounted:function(){var t=this;this.uuid=Math.random().toString(36).substring(3,8),this.$nextTick(function(){t.render(t.currentData,t.currentValue)})},props:{data:Array,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:Array,itemClass:{type:String,default:"scroller-item"},columnWidth:Array},methods:{getNameValues:function(){return Object(bi.a)(this.currentValue,this.data)},getId:function(t){return"#vux-picker-"+this.uuid+"-"+t},render:function(t,e){this.count=this.currentData.length;var s=this;if(t&&t.length){var i=this.currentData.length;if(e.length<i)for(var n=0;n<i;n++)this.$set(s.currentValue,n,t[n][0].value||t[n][0]);for(var a=0;a<t.length;a++){var r=function(i){if(!document.querySelector(s.getId(i)))return{v:void 0};s.scroller[i]&&s.scroller[i].destroy(),s.scroller[i]=new xi.a(s.getId(i),{data:t[i],defaultValue:e[i]||t[i][0].value,itemClass:s.itemClass,onSelect:function(t){s.$set(s.currentValue,i,t),(!this.columns||this.columns&&s.getValue().length===s.store.count)&&s.$nextTick(function(){s.$emit("on-change",s.getValue())}),0!==s.columns&&s.renderChain(i+1)}}),s.currentValue&&s.scroller[i].select(e[i])}(a);if("object"===(void 0===r?"undefined":gi()(r)))return r.v}}},renderChain:function(t){if(this.columns&&!(t>this.count-1)){var e=this,s=this.getId(t);this.scroller[t].destroy();var i=this.store.getChildren(e.getValue()[t-1]);this.scroller[t]=new xi.a(s,{data:i,itemClass:e.item_class,onSelect:function(s){e.$set(e.currentValue,t,s),e.$nextTick(function(){e.$emit("on-change",e.getValue())}),e.renderChain(t+1)}}),i.length?(this.$set(this.currentValue,t,i[0].value),this.renderChain(t+1)):this.$set(this.currentValue,t,null)}},getValue:function(){for(var t=[],e=0;e<this.currentData.length;e++){if(!this.scroller[e])return[];t.push(this.scroller[e].value)}return t},emitValueChange:function(t){(!this.columns||this.columns&&t.length===this.store.count)&&this.$emit("on-change",t)}},data:function(){return{scroller:[],count:0,uuid:"",currentData:this.data,currentValue:this.value}},watch:{value:function(t){gs()(t)!==gs()(this.currentValue)&&(this.currentValue=t)},currentValue:function(t,e){if(this.$emit("input",t),0!==this.columns)t.length>0&&gs()(t)!==gs()(e)&&(this.currentData=this.store.getColumns(t),this.$nextTick(function(){this.render(this.currentData,t)}));else if(t.length)for(var s=0;s<t.length;s++)this.scroller[s]&&this.scroller[s].value!==t[s]&&this.scroller[s].select(t[s]);else this.render(this.currentData,[])},data:function(t){gs()(t)!==gs()(this.currentData)&&(this.currentData=t)},currentData:function(t){var e=this;if("[object Array]"===Object.prototype.toString.call(t[0]))this.$nextTick(function(){e.render(t,e.currentValue),e.$nextTick(function(){e.emitValueChange(e.getValue()),gs()(e.getValue())!==gs()(e.currentValue)&&(!e.columns||e.columns&&e.getValue().length===e.store.count)&&(e.currentValue=e.getValue())})});else if(0!==this.columns){if(!t.length)return;var s=this.columns;this.store=new _i.a(t,s,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.currentValue)}}},beforeDestroy:function(){for(var t=0;t<this.count;t++)this.scroller[t]&&this.scroller[t].destroy(),this.scroller[t]=null}}),Ci=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-picker"},[s("flexbox",{attrs:{gutter:0}},t._l(t.currentData,function(e,i){return s("flexbox-item",{key:i,staticStyle:{"margin-left":"0"},attrs:{span:t.columnWidth&&t.columnWidth[i]}},[s("div",{staticClass:"vux-picker-item",attrs:{id:"vux-picker-"+t.uuid+"-"+i}})])}),1)],1)},ki=[],Si={render:Ci,staticRenderFns:ki},Ii=Si,$i=s("VU/8"),Li=v,Vi=$i(yi,Ii,!1,Li,null,null),Ti=Vi.exports,Ni=(String,String,String,Boolean,{name:"popup-header",props:{leftText:String,rightText:String,title:String,showBottomBorder:{type:Boolean,default:!0}}}),Di=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-popup-header",class:t.showBottomBorder?"vux-1px-b":""},[s("div",{staticClass:"vux-popup-header-left",on:{click:function(e){return t.$emit("on-click-left")}}},[t._t("left-text",[t._v(t._s(t.leftText))])],2),t._v(" "),s("div",{staticClass:"vux-popup-header-title"},[t._t("title",[t._v(t._s(t.title))])],2),t._v(" "),s("div",{staticClass:"vux-popup-header-right",on:{click:function(e){return t.$emit("on-click-right")}}},[t._t("right-text",[t._v(t._s(t.rightText))])],2)])},Bi=[],Ri={render:Di,staticRenderFns:Bi},Ai=Ri,Oi=s("VU/8"),Ei=g,Fi=Oi(Ni,Ai,!1,Ei,null,null),Pi=Fi.exports,Mi=s("LsKW"),Ui=s("63CM"),ji=function(t){return JSON.parse(gs()(t))},Hi=(Ui.a,Ve.a,wi.a,wi.b,Mi.a,bi.a,String,String,String,String,Array,String,Number,Number,Array,Boolean,String,Number,Array,Object,Boolean,Boolean,Boolean,Function,Boolean,Array,Object,String,Boolean,bi.a,function(t){return JSON.parse(gs()(t))}),qi={name:"popup-picker",directives:{TransferDom:Ui.a},created:function(){void 0!==this.show&&(this.showValue=this.show)},mixins:[Ve.a],components:{Picker:Ti,Cell:fs,Popup:zt,PopupHeader:Pi,Flexbox:wi.a,FlexboxItem:wi.b,InlineDesc:is},filters:{array2string:Mi.a,value2name:bi.a},props:{valueTextAlign:{type:String,default:"right"},title:String,cancelText:String,confirmText:String,data:{type:Array,default:function(){return[]}},placeholder:String,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:{type:Array,default:function(){return[]}},showName:Boolean,inlineDesc:[String,Number,Array,Object,Boolean],showCell:{type:Boolean,default:!0},show:Boolean,displayFormat:Function,isTransferDom:{type:Boolean,default:!0},columnWidth:Array,popupStyle:Object,popupTitle:String,disabled:Boolean},computed:{labelStyles:function(){return{display:"block",width:this.$parent.labelWidth||this.$parent.$parent.labelWidth||"auto",textAlign:this.$parent.labelAlign||this.$parent.$parent.labelAlign,marginRight:this.$parent.labelMarginRight||this.$parent.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{value2name:bi.a,getNameValues:function(){return Object(bi.a)(this.currentValue,this.data)},onClick:function(){this.disabled||(this.showValue=!0)},onHide:function(t){this.showValue=!1,t&&(this.closeType=!0,this.currentValue=Hi(this.tempValue)),t||(this.closeType=!1,this.value.length>0&&(this.tempValue=Hi(this.currentValue)))},onPopupShow:function(){this.closeType=!1,this.$emit("on-show")},onPopupHide:function(t){this.value.length>0&&(this.tempValue=Hi(this.currentValue)),this.$emit("on-hide",this.closeType)},onPickerChange:function(t){if(gs()(this.currentValue)!==gs()(t)&&this.value.length){var e=gs()(this.data);e!==this.currentData&&"[]"!==this.currentData&&(this.tempValue=Hi(t)),this.currentData=e}var s=Hi(t);this.$emit("on-shadow-change",s,Object(bi.a)(s,this.data).split(" "))}},watch:{value:function(t){gs()(t)!==gs()(this.tempValue)&&(this.tempValue=Hi(t),this.currentValue=Hi(t))},currentValue:function(t){this.$emit("input",Hi(t)),this.$emit("on-change",Hi(t))},show:function(t){this.showValue=t},showValue:function(t){this.$emit("update:show",t)}},data:function(){return{onShowProcess:!1,tempValue:Hi(this.value),closeType:!1,currentData:gs()(this.data),showValue:!1,currentValue:this.value}}},zi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-cell-box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCell,expression:"showCell"}],staticClass:"weui-cell vux-tap-active",class:{"weui-cell_access":!t.disabled},on:{click:t.onClick}},[s("div",{staticClass:"weui-cell__hd"},[t._t("title",[t.title?s("label",{staticClass:"weui-label",class:t.labelClass,style:t.labelStyles,domProps:{innerHTML:t._s(t.title)}}):t._e()],{labelClass:"weui-label",labelStyle:t.labelStyles,labelTitle:t.title}),t._v(" "),t.inlineDesc?s("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()],2),t._v(" "),s("div",{staticClass:"vux-cell-primary vux-popup-picker-select-box"},[s("div",{staticClass:"vux-popup-picker-select",style:{textAlign:t.valueTextAlign}},[t.displayFormat||t.showName||!t.value.length?t._e():s("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[t._v(t._s(t._f("array2string")(t.value)))]),t._v(" "),!t.displayFormat&&t.showName&&t.value.length?s("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[t._v(t._s(t._f("value2name")(t.value,t.data)))]):t._e(),t._v(" "),t.displayFormat&&t.value.length?s("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[t._v(t._s(t.displayFormat(t.value,t.value2name(t.value,t.data))))]):t._e(),t._v(" "),!t.value.length&&t.placeholder?s("span",{staticClass:"vux-popup-picker-placeholder vux-cell-placeholder",domProps:{textContent:t._s(t.placeholder)}}):t._e()])]),t._v(" "),s("div",{staticClass:"weui-cell__ft"})]),t._v(" "),s("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom",value:t.isTransferDom,expression:"isTransferDom"}]},[s("popup",{staticClass:"vux-popup-picker",attrs:{id:"vux-popup-picker-"+t.uuid,"popup-style":t.popupStyle},on:{"on-hide":t.onPopupHide,"on-show":t.onPopupShow},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[s("div",{staticClass:"vux-popup-picker-container"},[s("popup-header",{attrs:{"left-text":t.cancelText||"取消","right-text":t.confirmText||"完成",title:t.popupTitle},on:{"on-click-left":function(e){return t.onHide(!1)},"on-click-right":function(e){return t.onHide(!0)}}}),t._v(" "),s("picker",{attrs:{data:t.data,columns:t.columns,"fixed-columns":t.fixedColumns,container:"#vux-popup-picker-"+t.uuid,"column-width":t.columnWidth},on:{"on-change":t.onPickerChange},model:{value:t.tempValue,callback:function(e){t.tempValue=e},expression:"tempValue"}})],1)])],1)])},Wi=[],Xi={render:zi,staticRenderFns:Wi},Ji=Xi,Gi=s("VU/8"),Yi=x,Zi=Gi(qi,Ji,!1,Yi,null,null),Ki=Zi.exports,Qi=s("zV4+"),tn=s("KRg4"),en=s("ODCk"),sn=(tn.a,String,String,String,String,String,Number,Number,String,String,String,String,String,String,String,String,Boolean,Number,Number,String,String,String,Function,Boolean,Array,Array,Boolean,String,Function,Function,Object,{name:"datetime",mixins:[tn.a],components:{Group:Ms,InlineDesc:is,Icon:Ys},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(t){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(t){return!t||10===t.length}},endDate:{type:String,validator:function(t){return!t||10===t.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var t=this,e=this.uuid;this.$el.setAttribute("id","vux-datetime-"+e),this.readonly||this.$nextTick(function(){t.render(),t.show&&t.$nextTick(function(){t.picker&&t.picker.show(t.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var t=this,e={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:t.getButtonText("confirm"),cancelText:t.getButtonText("cancel"),clearText:t.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(e,s,i){t.picker&&t.picker.config.renderInline&&(t.$emit("input",i),t.$emit("on-change",i))},onConfirm:function(e){t.currentValue=e},onClear:function(e){t.$emit("on-clear",e)},onHide:function(e){t.currentShow=!1,t.$emit("update:show",!1),t.validate(),t.$emit("on-hide",e),"cancel"===e&&t.$emit("on-cancel"),"confirm"===e&&setTimeout(function(){t.$nextTick(function(){t.$emit("on-confirm",t.value)})})},onShow:function(){t.currentShow=!0,t.$emit("update:show",!0),t.$emit("on-show")}};return this.minYear&&(e.minYear=this.minYear),this.maxYear&&(e.maxYear=this.maxYear),e},firstError:function(){var t=Rt()(this.errors)[0];return this.errors[t]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(t){return"cancel"===t&&this.cancelText?this.cancelText:"confirm"===t&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+t+"-text")},render:function(){var t=this;this.$nextTick(function(){t.picker&&t.picker.destroy(),t.picker=new Qi.a(t.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(t){t?this.picker&&this.picker.destroy():this.render()},show:function(t){t!==this.currentShow&&(t?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(t,e){this.$emit("input",t),this.isFirstSetValue?this.$emit("on-change",t):(this.isFirstSetValue=!0,e&&this.$emit("on-change",t)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(t){this.currentValue&&(this.currentValue=Object(en.a)(this.currentValue,t)),this.render()},value:function(t){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=t);this.currentValue!==t&&(this.currentValue=t,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}),nn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!t.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[t._t("default",[s("div",[t._t("title",[s("p",{class:t.labelClass,style:t.styles,domProps:{innerHTML:t._s(t.title)}})]),t._v(" "),t.inlineDesc?s("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()],2),t._v(" "),s("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:t.valueTextAlign}},[!t.currentValue&&t.placeholder?s("span",{staticClass:"vux-cell-placeholder"},[t._v(t._s(t.placeholder))]):t._e(),t._v(" "),t.currentValue?s("span",{staticClass:"vux-cell-value"},[t._v(t._s(t.displayFormat?t.displayFormat(t.currentValue):t.currentValue))]):t._e(),t._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:!t.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:t.firstError}})],1)])],2)},an=[],rn={render:nn,staticRenderFns:an},on=rn,ln=s("VU/8"),cn=w,un=ln(sn,on,!1,cn,null,null),hn=un.exports,dn=s("dH7R"),pn=(String,Array,Boolean,Array,String,String,String,Boolean,String,String,String,Function,Object,String,Boolean,Boolean,{name:"x-address",components:{PopupPicker:Ki},props:{title:{type:String,required:!0},value:{type:Array,default:function(){return[]}},rawValue:Boolean,list:{type:Array,required:!0},labelWidth:String,inlineDesc:String,placeholder:String,hideDistrict:Boolean,valueTextAlign:String,confirmText:String,cancelText:String,displayFormat:{type:Function,default:function(t,e){return e}},popupStyle:Object,popupTitle:String,show:Boolean,disabled:Boolean},created:function(){if(this.currentValue.length&&this.rawValue){var t=Object(dn.a)(this.currentValue,this.list);/__/.test(t)?(console.error("[VUX] Wrong address value",this.currentValue),this.currentValue=[]):this.currentValue=t.split(" ")}this.show&&(this.showValue=!0)},methods:{emitHide:function(t){this.$emit("on-hide",t)},getAddressName:function(){return Object(bi.a)(this.value,this.list)},onShadowChange:function(t,e){this.$emit("on-shadow-change",t,e)}},data:function(){return{currentValue:this.value,showValue:!1}},computed:{nameValue:function(){return Object(bi.a)(this.currentValue,this.list)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(t){this.$emit("input",t)},value:function(t){if(t.length&&!/\d+/.test(t[0])){var e=Object(dn.a)(t,this.list).split(" ");if("__"!==e[0]&&"__"!==e[1])return void(this.currentValue=e)}this.currentValue=t},show:function(t){this.showValue=t},showValue:function(t){this.$emit("update:show",t)}}}),mn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("popup-picker",{attrs:{"fixed-columns":t.hideDistrict?2:0,columns:3,data:t.list,title:t.title,"show-name":"","inline-desc":t.inlineDesc,placeholder:t.placeholder,"value-text-align":t.valueTextAlign,"confirm-text":t.confirmText,"cancel-text":t.cancelText,"display-format":t.displayFormat,"popup-style":t.popupStyle,"popup-title":t.popupTitle,show:t.showValue,disabled:t.disabled},on:{"update:show":function(e){t.showValue=e},"on-shadow-change":t.onShadowChange,"on-hide":t.emitHide,"on-show":function(e){return t.$emit("on-show")}},scopedSlots:t._u([{key:"title",fn:function(e){return[t._t("title",[e.labelTitle?s("label",{class:[e.labelClass,t.labelClass],style:e.labelStyle,domProps:{innerHTML:t._s(e.labelTitle)}}):t._e()],{labelClass:e.labelClass,labelStyle:e.labelStyles,labelTitle:e.title})]}}],!0),model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})},fn=[],vn={render:mn,staticRenderFns:fn},gn=vn,xn=s("VU/8"),wn=xn(pn,gn,!1,null,null,null),_n=wn.exports,bn=s("JnrT"),yn=s.n(bn),Cn=(Us.a,String,String,Boolean,Number,String,String,String,Boolean,Boolean,Number,Number,Number,String,String,String,String,Boolean,{name:"x-textarea",minxins:[Us.a],mounted:function(){var t=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){t.autosize&&t.bindAutosize()})},components:{InlineDesc:is},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(t){this.unbindAutosize(),t&&this.bindAutosize()},value:function(t){this.currentValue=t},currentValue:function(t){this.max&&t&&t.length>this.max&&(this.currentValue=t.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var t=0;return this.currentValue&&(t=this.currentValue.replace(/\n/g,"aa").length),t>this.max?this.max:t},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){yn.a.update(this.$refs.textarea)},bindAutosize:function(){yn()(this.$refs.textarea)},unbindAutosize:function(){yn.a.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}),kn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"weui-cell vux-x-textarea"},[s("div",{staticClass:"weui-cell__hd"},[t.hasRestrictedLabel?s("div",{style:t.labelStyles},[t._t("restricted-label")],2):t._e(),t._v(" "),t._t("label",[t.title?s("label",{staticClass:"weui-label",class:t.labelClass,style:{width:t.$parent.labelWidth||t.labelWidth+"em",textAlign:t.$parent.labelAlign,marginRight:t.$parent.labelMarginRight},domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t.inlineDesc?s("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()])],2),t._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"weui-textarea",style:t.textareaStyle,attrs:{autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled,name:t.name,rows:t.rows,cols:t.cols,maxlength:t.max},domProps:{value:t.currentValue},on:{focus:function(e){return t.$emit("on-focus")},blur:function(e){return t.$emit("on-blur")},input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCounter&&t.max,expression:"showCounter && max"}],staticClass:"weui-textarea-counter",on:{click:t.focus}},[s("span",[t._v(t._s(t.count))]),t._v("/"+t._s(t.max)+"\n    ")])])])},Sn=[],In={render:kn,staticRenderFns:Sn},$n=In,Ln=s("VU/8"),Vn=_,Tn=Ln(Cn,$n,!1,Vn,null,null),Nn=Tn.exports,Dn=(Ts.a,Ns.a,{data:function(){return{minYear:"1900",maxYear:(new Date).getFullYear(),selectSex:["男"],userInfo:{nicknames:"",birthdays:"",remarks:""},popupState:!1}},components:{XHeader:Se,Flexbox:Ts.a,FlexboxItem:Ns.a,Group:Ms,XInput:fi,PopupPicker:Ki,Datetime:hn,XAddress:_n,XTextarea:Nn,Popup:zt},created:function(){this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.userInfo.logos||(this.userInfo.logos="static/img/default-avatar.png"),this.userInfo.nicknames||(this.userInfo.nicknames=""),0==this.userInfo.gender?this.selectSex=["女"]:this.selectSex=["男"],"0000-00-00"==this.userInfo.birthdays&&(this.userInfo.birthdays=""),this.userInfo.remarks||(this.userInfo.remarks="")},methods:{takePhoto:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt();case 2:if(!(s=e.sent)){e.next=7;break}return e.next=6,_s.convertImg(s,100,100);case 6:t.userInfo.logos=e.sent;case 7:t.popupState=!1;case 8:case"end":return e.stop()}},e,t)}))()},selectAlbum:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(1);case 2:if(!(s=e.sent)){e.next=7;break}return e.next=6,_s.convertImg(s,100,100);case 6:t.userInfo.logos=e.sent;case 7:t.popupState=!1;case 8:case"end":return e.stop()}},e,t)}))()},editAvatar:function(){this.popupState=!0},commit:function(){var t=this;return at()(it.a.mark(function e(){var s,i;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s.request({url:"/users/updates",method:"post",param:{loginid:t.userInfo.id,nicknames:t.userInfo.nicknames,genders:"男"==t.selectSex[0]?1:2,logos:t.userInfo.logos,birthdays:t.userInfo.birthdays,remarks:t.userInfo.remarks}});case 2:if(s=e.sent,"success"!=s.return_code){e.next=11;break}return t.$vux.toast.show({text:s.return_data,type:"text",onHide:function(){t.$router.push({path:"/page/UserIndex"})}}),e.next=7,_s.getData({url:"/users/usersinfos?loginid="+t.userInfo.id,method:"get"});case 7:i=e.sent,localStorage.setItem("userInfo",gs()(i.usersinfos)),e.next=12;break;case 11:t.$vux.alert.show({title:"提示",content:s.return_data});case 12:case"end":return e.stop()}},e,t)}))()}}}),Bn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"SetUserInfo"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[s("span",{attrs:{slot:"right"},on:{click:t.commit},slot:"right"},[t._v("保存")]),t._v("\n    设置个人资料\n  ")]),t._v(" "),s("div",{staticClass:"content"},[s("flexbox",{staticClass:"flexbox"},[s("flexbox-item",{attrs:{span:3}},[s("div",{staticClass:"flex-demo"},[t._v("头像")])]),t._v(" "),s("flexbox-item",[s("div",{staticClass:"avatar",on:{click:t.editAvatar}},[s("img",{attrs:{src:t.userInfo.logos,alt:""}})])])],1),t._v(" "),s("flexbox",{staticClass:"flexbox"},[s("flexbox-item",{attrs:{span:3}},[s("div",{staticClass:"flex-demo"},[t._v("昵称")])]),t._v(" "),s("flexbox-item",[s("div",[s("x-input",{staticClass:"x-input",attrs:{placeholder:"请输入昵称"},model:{value:t.userInfo.nicknames,callback:function(e){t.$set(t.userInfo,"nicknames",e)},expression:"userInfo.nicknames"}})],1)])],1),t._v(" "),s("flexbox",{staticClass:"flexbox"},[s("flexbox-item",{attrs:{span:3}},[s("div",{staticClass:"flex-demo"},[t._v("性别")])]),t._v(" "),s("flexbox-item",[s("div",[s("popup-picker",{staticClass:"popup-picker",attrs:{data:[["男","女"]],"value-text-align":"left",placeholder:"请选择性别"},model:{value:t.selectSex,callback:function(e){t.selectSex=e},expression:"selectSex"}})],1)])],1),t._v(" "),s("flexbox",{staticClass:"flexbox"},[s("flexbox-item",{attrs:{span:3}},[s("div",{staticClass:"flex-demo"},[t._v("出生日期")])]),t._v(" "),s("flexbox-item",[s("div",[s("datetime",{attrs:{"min-year":t.minYear,"max-year":t.maxYear,placeholder:"请选择出生日期"},model:{value:t.userInfo.birthdays,callback:function(e){t.$set(t.userInfo,"birthdays",e)},expression:"userInfo.birthdays"}})],1)])],1),t._v(" "),s("flexbox",{staticClass:"flexbox direc"},[s("flexbox-item",{attrs:{span:3}},[s("div",{staticClass:"flex-demo"},[t._v("个性签名")])]),t._v(" "),s("flexbox-item",[s("div",[s("x-textarea",{staticClass:"x-textarea",attrs:{rows:2,max:30,placeholder:"点击输入(最多30个字)"},model:{value:t.userInfo.remarks,callback:function(e){t.$set(t.userInfo,"remarks",e)},expression:"userInfo.remarks"}})],1)])],1)],1),t._v(" "),s("popup",{staticClass:"popup",model:{value:t.popupState,callback:function(e){t.popupState=e},expression:"popupState"}},[s("div",{on:{click:t.takePhoto}},[t._v("拍摄")]),t._v(" "),s("div",{on:{click:t.selectAlbum}},[t._v("相册")])])],1)},Rn=[],An={render:Bn,staticRenderFns:Rn},On=An,En=s("VU/8"),Fn=b,Pn=En(Dn,On,!1,Fn,null,null),Mn=Pn.exports,Un=(Boolean,Boolean,Boolean,String,String,Boolean,String,Object,Array,{name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(t){return 2===t.length}}},methods:{onClick:function(){!this.disabled&&Object(Pe.a)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}),jn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"weui-btn",class:t.classes,style:t.buttonStyle,attrs:{disabled:t.disabled,type:t.actionType},on:{click:t.onClick}},[t.showLoading?s("i",{staticClass:"weui-loading"}):t._e(),t._v(" "),t._t("default",[t._v(t._s(t.text))])],2)},Hn=[],qn={render:jn,staticRenderFns:Hn},zn=qn,Wn=s("VU/8"),Xn=y,Jn=Wn(Un,zn,!1,Xn,null,null),Gn=Jn.exports,Yn=(Ts.a,Ns.a,function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("userInfo"))){t.next=11;break}return this.userInfo=JSON.parse(e),this.$vux.loading.show({text:"loading..."}),t.next=6,_s.getData({url:"/users/myfollows?loginid="+this.userInfo.id+"&pages="+this.pageNum+"&rowsmax=10",method:"get"});case 6:s=t.sent,this.myFollowList=s,this.myFollowList.forEach(function(t){t.forEach(function(t){1==t.gender?t.sex="boy":t.sex="girl"})}),this.pageNum++,this.$vux.loading.hide();case 11:case"end":return t.stop()}},t,this)}))}(),{data:function(){return{userInfo:null,myFollowList:[],pageNum:1}},components:{XHeader:Se,XButton:Gn,Flexbox:Ts.a,FlexboxItem:Ns.a},created:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("userInfo"))){t.next=11;break}return this.userInfo=JSON.parse(e),this.$vux.loading.show({text:"loading..."}),t.next=6,_s.getData({url:"/users/myfollows?loginid="+this.userInfo.id+"&pages="+this.pageNum+"&rowsmax=10",method:"get"});case 6:s=t.sent,this.myFollowList=s,this.myFollowList.forEach(function(t){t.forEach(function(t){1==t.gender?t.sex="boy":t.sex="girl"})}),this.pageNum++,this.$vux.loading.hide();case 11:case"end":return t.stop()}},t,this)}));return t}(),methods:{toDetail:function(t){this.$router.push({path:"/page/user/MyRelease",name:"MyRelease",params:{id:t,type:"other"}})},follow:function(t,e){var s=this;return at()(it.a.mark(function i(){var n,a;return it.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n=0,!s.userInfo){i.next=9;break}return i.next=4,_s.request({url:"/materials/usersfollows",method:"post",param:{users_mains_id:t.id,loginid:s.userInfo.id,types:n}});case 4:a=i.sent,"success"==a.return_code&&s.myFollowList.splice(e,1),s.$vux.toast.show({text:a.return_data}),i.next=10;break;case 9:s.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){s.$router.push({path:"/page/user/LoginIndex"})}});case 10:case"end":return i.stop()}},i,s)}))()},onInfinite:function(t){var e=this;if(1==this.pageNum)return t(),!1;setTimeout(at()(it.a.mark(function s(){var i;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,_s.getData({url:"/users/myfollows?loginid="+e.userInfo.id+"&pages="+e.pageNum+"&rowsmax=10",method:"get"});case 2:if(""!=(i=s.sent)){s.next=6;break}return e.$refs.scroller.finishInfinite(2),s.abrupt("return",!1);case 6:e.myFollowList=e.myFollowList.concat(i),e.myFollowList.forEach(function(t){t.forEach(function(t){1==t.gender?t.sex="boy":t.sex="girl"})}),e.pageNum++,t();case 10:case"end":return s.stop()}},s,e)})),1e3)}}}),Zn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MyFollow"},[s("scroller",{ref:"scroller",class:t.myFollowList.length<10?"hide-scroller":"",attrs:{"on-infinite":t.onInfinite,noDataText:"我是有底线的..."}},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("我的关注")]),t._v(" "),s("div",{staticClass:"MyFollowList"},t._l(t.myFollowList,function(e,i){return s("flexbox",{key:i,staticClass:"flexbox",nativeOn:{click:function(s){return t.toDetail(e[0].id)}}},[s("flexbox-item",{attrs:{span:2}},[s("img",{staticClass:"avatar",attrs:{src:e[0].logos||"static/img/default-avatar.png",alt:""}})]),t._v(" "),s("flexbox-item",{attrs:{span:7}},[s("div",[s("div",{staticClass:"username"},[t._v("\n            "+t._s(e[0].nicknames)+"\n            "),"girl"==e[0].sex?s("i",{staticClass:"iconfont icon-nvsheng"}):s("i",{staticClass:"iconfont icon-nansheng"})]),t._v(" "),s("div",{staticClass:"direc"},[t._v(t._s(e[0].remarks||"当前大咖有点儿懒。。。"))])])]),t._v(" "),s("flexbox-item",{staticClass:"x-button-box",attrs:{span:3}},[s("x-button",{staticClass:"x-button",attrs:{mini:"",gradients:["rgb(525,97,66)","rgb(525,97,66)"]},nativeOn:{click:function(s){return s.stopPropagation(),t.follow(e[0],i)}}},[t._v("已关注")])],1)],1)}),1)],1)],1)},Kn=[],Qn={render:Zn,staticRenderFns:Kn},ta=Qn,ea=s("VU/8"),sa=C,ia=ea(Yn,ta,!1,sa,null,null),na=ia.exports,aa=(Number,Number,Boolean,Boolean,{name:"grid",methods:{countColumn:function(){this.childrenSize=this.$children.length,this.$children.forEach(function(t,e){return t.index=e})}},props:{rows:{type:Number,validator:function(){return!0}},cols:{type:Number},showLrBorders:{type:Boolean,default:!0},showVerticalDividers:{type:Boolean,default:!0}},computed:{column:function(){return this.cols||this.childrenSize}},data:function(){return{childrenSize:3}}}),ra=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"weui-grids",class:{"vux-grid-no-lr-borders":!t.showLrBorders}},[t._t("default")],2)},oa=[],la={render:ra,staticRenderFns:oa},ca=la,ua=s("VU/8"),ha=k,da=ua(aa,ca,!1,ha,null,null),pa=da.exports,ma={name:"grid-item",props:["icon","label","link"],created:function(){this.$parent.countColumn()},mounted:function(){this.$slots.icon&&(this.hasIconSlot=!0),this.$slots.label&&(this.hasLabelSlot=!0)},destroyed:function(){this.$parent.countColumn()},computed:{isLast:function(){return!((this.index+1)%this.$parent.column)},style:function(){var t=this.$parent.column;if(t&&3!==t){var e={};return e.width=100/t+"%",e}}},methods:{onClick:function(){this.$emit("on-item-click"),Object(Pe.a)(this.link,this.$router)}},data:function(){return{index:0,hasIconSlot:!1,hasLabelSlot:!1}}},fa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"weui-grid",class:{"vux-grid-item-no-border":t.isLast&&!t.$parent.showLrBorders||!t.isLast&&!t.$parent.showVerticalDividers},style:t.style,attrs:{href:"javascript:;"},on:{click:t.onClick}},[t.hasIconSlot||t.icon?s("div",{staticClass:"weui-grid__icon"},[t._t("icon",[s("img",{attrs:{src:t.icon,alt:""}})])],2):t._e(),t._v(" "),t.hasLabelSlot||t.label?s("p",{staticClass:"weui-grid__label"},[t._t("label",[s("span",{domProps:{innerHTML:t._s(t.label)}})])],2):t._e(),t._v(" "),t._t("default")],2)},va=[],ga={render:fa,staticRenderFns:va},xa=ga,wa=s("VU/8"),_a=S,ba=wa(ma,xa,!1,_a,null,null),ya=ba.exports,Ca=(function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n,a=this;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$route.params,s=localStorage.getItem("userInfo"),sessionStorage.getItem("releaseId")?(this.title="发布信息",this.userId=sessionStorage.getItem("releaseId")):("other"==e.type?(this.userId=e.id,this.title="发布信息"):this.userId=JSON.parse(localStorage.getItem("userInfo")).id,sessionStorage.setItem("releaseId",this.userId)),!this.userId){t.next=16;break}return this.$vux.loading.show({text:"Loading"}),t.next=7,_s.getData({url:"/users/usersinfos?loginid="+this.userId,method:"get"});case 7:return i=t.sent,i.usersinfos.logos=i.usersinfos.logos||"static/img/default-avatar.png",i.usersinfos.remarks=i.usersinfos.remarks||"当前大咖有点儿懒。。。",this.userInfo=i,this.userInfo.imgList=[],t.next=14,_s.getData({url:"/users/mypublishes?loginid="+this.userId,method:"get"});case 14:n=t.sent,n.forEach(function(t,e){a.userInfo.imgList.push({src:t.thumbs,imgCount:t.image_total,id:t.id})});case 16:this.showState=!0,this.$vux.loading.hide();case 18:case"end":return t.stop()}},t,this)}))}(),{data:function(){return{userInfo:null,showState:!1,title:"我的发布"}},components:{XHeader:Se,Card:Je,XImg:Fe,Grid:pa,GridItem:ya},created:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n,a=this;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$route.params,s=localStorage.getItem("userInfo"),sessionStorage.getItem("releaseId")?(this.title="发布信息",this.userId=sessionStorage.getItem("releaseId")):("other"==e.type?(this.userId=e.id,this.title="发布信息"):this.userId=JSON.parse(localStorage.getItem("userInfo")).id,sessionStorage.setItem("releaseId",this.userId)),!this.userId){t.next=16;break}return this.$vux.loading.show({text:"Loading"}),t.next=7,_s.getData({url:"/users/usersinfos?loginid="+this.userId,method:"get"});case 7:return i=t.sent,i.usersinfos.logos=i.usersinfos.logos||"static/img/default-avatar.png",i.usersinfos.remarks=i.usersinfos.remarks||"当前大咖有点儿懒。。。",this.userInfo=i,this.userInfo.imgList=[],t.next=14,_s.getData({url:"/users/mypublishes?loginid="+this.userId,method:"get"});case 14:n=t.sent,n.forEach(function(t,e){a.userInfo.imgList.push({src:t.thumbs,imgCount:t.image_total,id:t.id})});case 16:this.showState=!0,this.$vux.loading.hide();case 18:case"end":return t.stop()}},t,this)}));return t}(),methods:{toDetail:function(t){this.$router.push({path:"/page/user/MyCollect",name:"MyCollect",params:{id:t}})},back:function(){sessionStorage.removeItem("releaseId"),this.$router.go(-1)}}}),ka=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showState?s("div",{staticClass:"MyRelease"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:"",preventGoBack:!0}},on:{"on-click-back":t.back}},[t._v(t._s(t.title))]),t._v(" "),s("div",{staticClass:"user"},[s("x-img",{staticClass:"bgImg",attrs:{"default-src":t.userInfo.imgList.length?t.userInfo.imgList[0].src:"static/img/img.png"}}),t._v(" "),s("div",{staticClass:"user-detail"},[s("router-link",{attrs:{to:""}},[s("x-img",{staticClass:"avatar",attrs:{"default-src":t.userInfo.usersinfos.logos||"static/img/default-avatar.png"}}),t._v(" "),s("div",{staticClass:"username"},[t._v("\n          "+t._s(t.userInfo.usersinfos.nicknames)+"\n          "),1==t.userInfo.usersinfos.gender?s("i",{staticClass:"iconfont icon-nansheng"}):s("i",{staticClass:"iconfont icon-nvsheng"})]),t._v(" "),s("div",{staticClass:"signature"},[t._v(t._s(t.userInfo.usersinfos.remarks))])],1),t._v(" "),s("card",[s("div",{staticClass:"card-demo-flex card-demo-content01",attrs:{slot:"content"},slot:"content"},[s("router-link",{attrs:{to:""}},[s("span",[t._v(t._s(t.userInfo.my_post_total))]),t._v(" "),s("br"),t._v("发布\n          ")]),t._v(" "),s("router-link",{attrs:{to:""}},[s("span",[t._v(t._s(t.userInfo.my_follow_total))]),t._v(" "),s("br"),t._v("关注\n          ")]),t._v(" "),s("router-link",{attrs:{to:""}},[s("span",[t._v(t._s(t.userInfo.my_fans_total))]),t._v(" "),s("br"),t._v("粉丝\n          ")]),t._v(" "),s("router-link",{attrs:{to:""}},[s("span",[t._v(t._s(t.userInfo.my_praise_total))]),t._v(" "),s("br"),t._v("获赞\n          ")])],1)])],1),t._v(" "),s("div",[s("grid",{staticClass:"grid",attrs:{cols:3,"show-lr-borders":!1,"show-vertical-dividers":!1}},t._l(t.userInfo.imgList,function(e,i){return s("grid-item",{key:i,staticClass:"grid-item",nativeOn:{click:function(s){return t.toDetail(e.id)}}},[s("img",{staticClass:"previewer-demo-img",attrs:{src:e.src}}),t._v(" "),s("span",[s("i",{staticClass:"iconfont icon-shuliangbiaoqian"}),t._v(" "),s("span",[t._v(t._s(e.imgCount))])])])}),1)],1)],1)],1):t._e()},Sa=[],Ia={render:ka,staticRenderFns:Sa},$a=Ia,La=s("VU/8"),Va=I,Ta=La(Ca,$a,!1,Va,null,null),Na=Ta.exports,Da=s("i7N3"),Ba=s.n(Da),Ra=s("72M0"),Aa=s.n(Ra),Oa=(Array,Number,Object,{name:"previewer",computed:{imgs:function(){return this.list.map(function(t){return t.msrc||(t.msrc=t.src),void 0===t.w&&(t.w=0,t.h=0),t})}},watch:{imgs:function(t,e){if(this.photoswipe)if(t.length&&t.length-e.length==-1){var s=this.photoswipe.getCurrentIndex();this.photoswipe.invalidateCurrItems(),this.photoswipe.items.splice(s,1);var i=s;i>this.photoswipe.items.length-1&&(i=0),this.photoswipe.goTo(i),this.photoswipe.updateSize(!0),this.photoswipe.ui.update()}else t.length||this.close()}},methods:{init:function(t){var e=this,s=this.imgs[t];if(!s.w||!s.h||s.w<5||s.h<5){var i=new Image;i.onload=function(){s.w=this.width,s.h=this.height,e.doInit(t)},i.src=s.src}else this.doInit(t)},doInit:function(t){var e=this,s=this,i=ve()({history:!1,shareEl:!1,tapToClose:!0,index:t},this.options);this.photoswipe=new Ba.a(this.$el,Aa.a,this.imgs,i),this.photoswipe.listen("gettingData",function(t,e){if(!e.w||!e.h||e.w<1||e.h<1){var i=new Image;i.onload=function(){e.w=this.width,e.h=this.height,s.photoswipe.updateSize(!0)},i.src=e.src}}),this.photoswipe.init(),this.photoswipe.listen("close",function(){e.$emit("on-close")}),this.photoswipe.listen("afterChange",function(t,s){e.$emit("on-index-change",{currentIndex:e.photoswipe.getCurrentIndex()})})},show:function(t){this.init(t)},getCurrentIndex:function(){return this.photoswipe.getCurrentIndex()},close:function(){this.photoswipe.close()},goTo:function(t){this.photoswipe.goTo(t)},prev:function(){this.photoswipe.prev()},next:function(){this.photoswipe.next()}},props:{list:{type:Array,required:!0},index:{type:Number,default:0},options:{type:Object,default:function(){return{}}}}}),Ea=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pswp vux-previewer",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"pswp__bg"}),t._v(" "),s("div",{staticClass:"pswp__scroll-wrap"},[t._m(0),t._v(" "),s("div",{staticClass:"pswp__ui pswp__ui--hidden"},[s("div",{staticClass:"pswp__top-bar"},[s("div",{staticClass:"pswp__counter"}),t._v(" "),t._t("button-after"),t._v(" "),s("button",{staticClass:"pswp__button pswp__button--close",attrs:{title:"Close (Esc)"}}),t._v(" "),s("button",{staticClass:"pswp__button pswp__button--share",attrs:{title:"Share"}}),t._v(" "),s("button",{staticClass:"pswp__button pswp__button--fs",attrs:{title:"Toggle fullscreen"}}),t._v(" "),s("button",{staticClass:"pswp__button pswp__button--zoom",attrs:{title:"Zoom in/out"}}),t._v(" "),t._t("button-before"),t._v(" "),t._m(1)],2),t._v(" "),t._m(2),t._v(" "),s("button",{staticClass:"pswp__button pswp__button--arrow--left",attrs:{title:"Previous (arrow left)"}}),t._v(" "),s("button",{staticClass:"pswp__button pswp__button--arrow--right",attrs:{title:"Next (arrow right)"}}),t._v(" "),t._m(3)])])])},Fa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pswp__container"},[s("div",{staticClass:"pswp__item"}),t._v(" "),s("div",{staticClass:"pswp__item"}),t._v(" "),s("div",{staticClass:"pswp__item"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pswp__preloader"},[s("div",{staticClass:"pswp__preloader__icn"},[s("div",{staticClass:"pswp__preloader__cut"},[s("div",{staticClass:"pswp__preloader__donut"})])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},[s("div",{staticClass:"pswp__share-tooltip"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pswp__caption"},[s("div",{staticClass:"pswp__caption__center"})])}],Pa={render:Ea,staticRenderFns:Fa},Ma=Pa,Ua=s("VU/8"),ja=$,Ha=Ua(Oa,Ma,!1,ja,null,null),qa=Ha.exports,za=(Ui.a,function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("userInfo")),s=this.$route.params,!e){t.next=19;break}if(this.$vux.loading.show({text:"loading..."}),!s.id){t.next=13;break}return this.title="发布信息",t.next=8,_s.getData({url:"/materials/details?loginid="+e.id+"&sources_id="+s.id,method:"get"});case 8:i=t.sent,this.imgList=i.images,this.imgList.forEach(function(t){t.src=t.msrc=t.updatas}),t.next=18;break;case 13:return t.next=15,_s.getData({url:"/users/mycollects?loginid="+e.id,method:"get"});case 15:n=t.sent,this.imgList=n,this.imgList.forEach(function(t){t.src=t.msrc=t.thumbs});case 18:this.$vux.loading.hide();case 19:case"end":return t.stop()}},t,this)}))}(),{directives:{TransferDom:Ui.a},data:function(){return{title:"我的收藏",imgList:[]}},components:{XHeader:Se,XImg:Fe,Grid:pa,GridItem:ya,Previewer:qa},created:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("userInfo")),s=this.$route.params,!e){t.next=19;break}if(this.$vux.loading.show({text:"loading..."}),!s.id){t.next=13;break}return this.title="发布信息",t.next=8,_s.getData({url:"/materials/details?loginid="+e.id+"&sources_id="+s.id,method:"get"});case 8:i=t.sent,this.imgList=i.images,this.imgList.forEach(function(t){t.src=t.msrc=t.updatas}),t.next=18;break;case 13:return t.next=15,_s.getData({url:"/users/mycollects?loginid="+e.id,method:"get"});case 15:n=t.sent,this.imgList=n,this.imgList.forEach(function(t){t.src=t.msrc=t.thumbs});case 18:this.$vux.loading.hide();case 19:case"end":return t.stop()}},t,this)}));return t}(),methods:{show:function(t){this.$refs.previewer.show(t)}}}),Wa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MyCollect"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v(t._s(t.title))]),t._v(" "),s("div",{staticClass:"img-list"},[s("grid",{staticClass:"grid",attrs:{cols:3,"show-lr-borders":!1,"show-vertical-dividers":!1}},t._l(t.imgList,function(e,i){return s("grid-item",{key:i,staticClass:"grid-item"},[s("img",{staticClass:"previewer-demo-img",attrs:{src:e.src},on:{click:function(e){return t.show(i)}}})])}),1),t._v(" "),s("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[s("previewer",{ref:"previewer",attrs:{list:t.imgList}})],1)],1)],1)},Xa=[],Ja={render:Wa,staticRenderFns:Xa},Ga=Ja,Ya=s("VU/8"),Za=L,Ka=Ya(za,Ga,!1,Za,null,null),Qa=Ka.exports,tr=(Ts.a,Ns.a,function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("userInfo"))){t.next=11;break}return this.userInfo=JSON.parse(e),this.$vux.loading.show({text:"loading..."}),t.next=6,_s.getData({url:"/users/myfans?loginid="+this.userInfo.id+"&pages="+this.pageNum+"&rowsmax=10",method:"get"});case 6:s=t.sent,this.myFanList=s,this.myFanList.forEach(function(t){t.forEach(function(t){1==t.gender?t.sex="boy":t.sex="girl"})}),this.pageNum++,this.$vux.loading.hide();case 11:case"end":return t.stop()}},t,this)}))}(),{data:function(){return{userInfo:null,myFanList:[],pageNum:1}},components:{XHeader:Se,XButton:Gn,Flexbox:Ts.a,FlexboxItem:Ns.a},created:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("userInfo"))){t.next=11;break}return this.userInfo=JSON.parse(e),this.$vux.loading.show({text:"loading..."}),t.next=6,_s.getData({url:"/users/myfans?loginid="+this.userInfo.id+"&pages="+this.pageNum+"&rowsmax=10",method:"get"});case 6:s=t.sent,this.myFanList=s,this.myFanList.forEach(function(t){t.forEach(function(t){1==t.gender?t.sex="boy":t.sex="girl"})}),this.pageNum++,this.$vux.loading.hide();case 11:case"end":return t.stop()}},t,this)}));return t}(),methods:{toDetail:function(t){this.$router.push({path:"/page/user/MyRelease",name:"MyRelease",params:{id:t,type:"other"}})},follow:function(t,e){var s=this;return at()(it.a.mark(function e(){var i,n;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=1==t.followed?0:1,!s.userInfo){e.next=9;break}return e.next=4,_s.request({url:"/materials/usersfollows",method:"post",param:{users_mains_id:t.id,loginid:s.userInfo.id,types:i}});case 4:n=e.sent,"success"==n.return_code&&(t.followed=i),s.$vux.toast.show({text:n.return_data}),e.next=10;break;case 9:s.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){s.$router.push({path:"/page/user/LoginIndex"})}});case 10:case"end":return e.stop()}},e,s)}))()},onInfinite:function(t){var e=this;if(1==this.pageNum)return t(),!1;setTimeout(at()(it.a.mark(function s(){var i;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,_s.getData({url:"/users/myfans?loginid="+e.userInfo.id+"&pages="+e.pageNum+"&rowsmax=10",method:"get"});case 2:if(""!=(i=s.sent)){s.next=6;break}return e.$refs.scroller.finishInfinite(2),s.abrupt("return",!1);case 6:e.myFanList=e.myFanList.concat(i),e.myFanList.forEach(function(t){t.forEach(function(t){1==t.gender?t.sex="boy":t.sex="girl"})}),e.pageNum++,t();case 10:case"end":return s.stop()}},s,e)})),1e3)}}}),er=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MyFan"},[s("scroller",{ref:"scroller",class:t.myFanList.length<10?"hide-scroller":"",attrs:{"on-infinite":t.onInfinite,noDataText:"我是有底线的..."}},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("我的粉丝")]),t._v(" "),s("div",{staticClass:"MyFollowList"},t._l(t.myFanList,function(e,i){return s("flexbox",{key:i,staticClass:"flexbox",nativeOn:{click:function(s){return t.toDetail(e[0].id)}}},[s("flexbox-item",{attrs:{span:2}},[s("img",{staticClass:"avatar",attrs:{src:e[0].logos||"static/img/default-avatar.png",alt:""}})]),t._v(" "),s("flexbox-item",{attrs:{span:7}},[s("div",[s("div",{staticClass:"username"},[t._v("\n              "+t._s(e[0].nicknames)+"\n              "),"girl"==e[0].sex?s("i",{staticClass:"iconfont icon-nvsheng"}):s("i",{staticClass:"iconfont icon-nansheng"})]),t._v(" "),s("div",{staticClass:"direc"},[t._v(t._s(e[0].remarks||"当前大咖有点儿懒。。。"))])])]),t._v(" "),s("flexbox-item",{staticClass:"x-button-box",attrs:{span:3}},[s("x-button",{directives:[{name:"show",rawName:"v-show",value:e[0].followed,expression:"myFan[0].followed"}],staticClass:"x-button",attrs:{mini:"",gradients:["rgb(525,97,66)","rgb(525,97,66)"]},nativeOn:{click:function(s){return s.stopPropagation(),t.follow(e[0],i)}}},[t._v("已关注")]),t._v(" "),s("x-button",{directives:[{name:"show",rawName:"v-show",value:!e[0].followed,expression:"!myFan[0].followed"}],staticClass:"x-button no-follow",attrs:{mini:""},nativeOn:{click:function(s){return s.stopPropagation(),t.follow(e[0],i)}}},[t._v("关注")])],1)],1)}),1)],1)],1)},sr=[],ir={render:er,staticRenderFns:sr},nr=ir,ar=s("VU/8"),rr=V,or=ar(tr,nr,!1,rr,null,null),lr=or.exports,cr=s("/kga"),ur=(Ui.a,cr.a,function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("userInfo"))){t.next=10;break}return this.userInfo=JSON.parse(e),this.$vux.loading.show({text:"loading..."}),t.next=6,_s.getData({url:"/users/myincomedetails?loginid="+this.userInfo.id,method:"get"});case 6:s=t.sent,this.myIncome=s,this.$vux.loading.hide(),this.pageShow=!0;case 10:case"end":return t.stop()}},t,this)}))}(),{directives:{TransferDom:Ui.a},data:function(){return{showWithDraw:!1,pageShow:!1,userInfo:null,myIncome:null,stateText:"",withDrawInfo:{accounts:"",realnames:"",moneys:""},cellArr:[{title:"收入记录",iconclass:"icon-shourujilu",pageUrl:"/page/IncomeRecord"},{title:"免责声明",iconclass:"icon-zerenshengming",pageUrl:"/page/ServicePact"}]}},components:{XHeader:Se,Card:Je,XButton:Gn,Cell:fs,XDialog:cr.a,XInput:fi,Group:Ms},created:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("userInfo"))){t.next=10;break}return this.userInfo=JSON.parse(e),this.$vux.loading.show({text:"loading..."}),t.next=6,_s.getData({url:"/users/myincomedetails?loginid="+this.userInfo.id,method:"get"});case 6:s=t.sent,this.myIncome=s,this.$vux.loading.hide(),this.pageShow=!0;case 10:case"end":return t.stop()}},t,this)}));return t}(),methods:{withDrawCommit:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.withDrawInfo.accounts){e.next=4;break}t.stateText="收款账号不能为空",e.next=20;break;case 4:if(t.withDrawInfo.realnames){e.next=8;break}t.stateText="收款用户名不能为空",e.next=20;break;case 8:if(t.withDrawInfo.moneys){e.next=12;break}t.stateText="提现金额不能为空",e.next=20;break;case 12:if(!(Number(t.withDrawInfo.moneys)>Number(t.myIncome.moneys))){e.next=16;break}t.stateText="余额不足",e.next=20;break;case 16:return e.next=18,_s.request({url:"/users/applywithdraws",method:"post",param:{loginid:t.userInfo.id,mobile:t.userInfo.admins,accounts:t.withDrawInfo.accounts,realnames:t.withDrawInfo.realnames,moneys:t.withDrawInfo.moneys}});case 18:s=e.sent,"success"==s.return_code?t.$vux.toast.show({text:s.return_data,onHide:function(){t.myIncome.moneys-=t.withDrawInfo.moneys,t.showWithDraw=!1}}):t.$vux.toast.show({title:"提示",content:s.return_data});case 20:t.stateText&&setTimeout(function(){t.stateText=""},2e3);case 21:case"end":return e.stop()}},e,t)}))()}}}),hr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.pageShow?s("div",{staticClass:"MyIncome"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("我的收入")]),t._v(" "),s("div",{staticClass:"content-box"},[s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},[s("div",[s("i",{staticClass:"iconfont icon-shourujine"})]),t._v(" "),s("h1",{staticClass:"amount"},[t._v(t._s(t.myIncome.moneys))]),t._v(" "),s("div",[s("span",{staticClass:"amount-text"},[t._v("可提现金额(元)")])]),t._v(" "),s("card",{staticClass:"desc"},[s("div",{staticClass:"card-demo-flex card-demo-content01",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"vux-calc(1 *2 / 7.5 * 1vw)-r"},[s("span",[t._v("本月收入 "+t._s(t.myIncome.lastmonth_moneys_totals))])]),t._v(" "),s("div",[s("span",[t._v("历史总收入 "+t._s(t.myIncome.moneys_totals))])])])])],1)]),t._v(" "),s("x-button",{staticClass:"take-away",nativeOn:{click:function(e){t.showWithDraw=!0}}},[t._v("立即提现")]),t._v(" "),s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.cellArr,function(t,e){return s("cell",{key:e,attrs:{title:t.title,link:t.pageUrl}},[s("i",{staticClass:"iconfont",class:t.iconclass,attrs:{slot:"icon"},slot:"icon"})])}),1)])],1),t._v(" "),s("x-dialog",{staticClass:"dialog-demo",model:{value:t.showWithDraw,callback:function(e){t.showWithDraw=e},expression:"showWithDraw"}},[s("div",{staticClass:"dialog-box"},[s("group",{staticClass:"withdraw-box"},[s("div",{staticClass:"withdraw-title",attrs:{slot:"title"},slot:"title"},[s("span",[t._v("填写支付宝账户信息")]),t._v(" "),s("i",{staticClass:"iconfont icon-danchuangguanbi",on:{click:function(e){t.showWithDraw=!1}}})]),t._v(" "),s("x-input",{attrs:{type:"text",placeholder:"请输入支付宝账号"},model:{value:t.withDrawInfo.accounts,callback:function(e){t.$set(t.withDrawInfo,"accounts",e)},expression:"withDrawInfo.accounts"}}),t._v(" "),s("x-input",{attrs:{type:"text",placeholder:"请输入支付宝用户名"},model:{value:t.withDrawInfo.realnames,callback:function(e){t.$set(t.withDrawInfo,"realnames",e)},expression:"withDrawInfo.realnames"}}),t._v(" "),s("x-input",{attrs:{type:"number",placeholder:"请输入提现金额"},model:{value:t.withDrawInfo.moneys,callback:function(e){t.$set(t.withDrawInfo,"moneys",e)},expression:"withDrawInfo.moneys"}})],1),t._v(" "),s("div",{staticClass:"state-text"},[t._v(t._s(t.stateText))]),t._v(" "),s("x-button",{staticClass:"withdraw-commit",nativeOn:{click:function(e){return e.stopPropagation(),t.withDrawCommit(e)}}},[t._v("提交")]),t._v(" "),s("div",{staticClass:"point"},[t._v("温馨提示:目前只支持支付宝提现")])],1)])],1):t._e()},dr=[],pr={render:hr,staticRenderFns:dr},mr=pr,fr=s("VU/8"),vr=T,gr=fr(ur,mr,!1,vr,null,null),xr=gr.exports,wr=(function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}))}(),{data:function(){return{cellArr1:[{title:"意见反馈",iconclass:"icon-yijianfankui",pageUrl:"/page/ReportOpinion"}],cellArr2:[{title:"服务协议",iconclass:"icon-fuwuxieyi",pageUrl:"/page/ServicePact"},{title:"关于我们",iconclass:"icon-guanyuwomen",pageUrl:"/page/AboutUs"},{title:"联系我们",iconclass:"icon-lianxiwomen",pageUrl:""}]}},components:{XHeader:Se,Card:Je,XButton:Gn,Cell:fs},created:function(){},mounted:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return t}(),methods:{logout:function(){localStorage.removeItem("userInfo"),this.$router.push({path:"/page/UserIndex"})},callPhone:function(t){window.location.href="tel://"+t}}}),_r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MySet"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("设置")]),t._v(" "),s("div",{staticClass:"content-box"},[s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.cellArr1,function(t,e){return s("cell",{key:e,attrs:{title:t.title,link:t.pageUrl,value:t.value||""}},[s("i",{staticClass:"iconfont",class:t.iconclass,attrs:{slot:"icon"},slot:"icon"})])}),1)]),t._v(" "),s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.cellArr2,function(e,i){return s("cell",{key:i,attrs:{title:e.title,link:e.pageUrl},nativeOn:{click:function(s){"联系我们"==e.title&&t.callPhone(13817492716)}}},[s("i",{staticClass:"iconfont",class:e.iconclass,attrs:{slot:"icon"},slot:"icon"})])}),1)]),t._v(" "),s("x-button",{staticClass:"log-out",nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登录")])],1)],1)},br=[],yr={render:_r,staticRenderFns:br},Cr=yr,kr=s("VU/8"),Sr=N,Ir=kr(wr,Cr,!1,Sr,null,null),$r=Ir.exports,Lr={data:function(){return{cellArr:[{title:"新浪微博",value:"@舍豆"},{title:"网页端",value:"www.shedouwang.com"}]}},components:{XHeader:Se,XImg:Fe,Card:Je,Cell:fs},created:function(){}},Vr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"AboutUs"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("关于舍豆")]),t._v(" "),s("div",{staticClass:"content-box"},[s("div",{staticClass:"logo-box"},[s("x-img",{staticClass:"logo",attrs:{"default-src":"static/img/icon/logo.png"}}),t._v(" "),s("h3",{staticClass:"logo-title"},[t._v("舍豆")])],1),t._v(" "),s("div",{staticClass:"desc"},[t._v("舍豆的介绍文字说明，有念念不忘的美好，有 爱而不得的疼痛，有生离死别的遗憾，有一再错过 的宿命，也有喧嚣之后的回归.舍豆的介绍文字说明，有念念不忘的美好，有 爱而不得的疼痛，有生离死别的遗憾，有一再错过 的宿命，也有喧嚣之后的回归")]),t._v(" "),s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.cellArr,function(t,e){return s("cell",{key:e,attrs:{title:t.title,value:t.value}})}),1)])],1)],1)},Tr=[],Nr={render:Vr,staticRenderFns:Tr},Dr=Nr,Br=s("VU/8"),Rr=D,Ar=Br(Lr,Dr,!1,Rr,null,null),Or=Ar.exports,Er={data:function(){return{cellArr:[{title:"微信",iconclass:"icon-weixin",pageUrl:"/page/MyRelease"},{title:"支付宝",iconclass:"icon-zhifubao",pageUrl:"/page/MyFollow"}]}},components:{XHeader:Se,Card:Je,Cell:fs},created:function(){}},Fr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"IncomeAccount"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("收款账户")]),t._v(" "),s("div",{staticClass:"content-box"},[s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.cellArr,function(t,e){return s("cell",{key:e,attrs:{title:t.title,link:t.pageUrl}},[s("i",{staticClass:"iconfont",class:t.iconclass,attrs:{slot:"icon"},slot:"icon"})])}),1)])],1)],1)},Pr=[],Mr={render:Fr,staticRenderFns:Pr},Ur=Mr,jr=s("VU/8"),Hr=B,qr=jr(Er,Ur,!1,Hr,null,null),zr=qr.exports,Wr=(Ts.a,Ns.a,function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("userInfo"))){t.next=11;break}return this.userInfo=JSON.parse(e),this.$vux.loading.show({text:"loading..."}),t.next=6,_s.getData({url:"/users/myaccountsdetails?loginid="+this.userInfo.id+"&pages="+this.pageNum+"&rowsmax=10",method:"get"});case 6:s=t.sent,this.incomeRecordList=s,this.pageNum++,this.incomeRecordList.forEach(function(t,e){"alipay"==t.pays_types?(t.iconType="icon-zhifubao",t.text="支付宝支付"):(t.iconType="icon-weixin",t.text="微信支付")}),this.$vux.loading.hide();case 11:case"end":return t.stop()}},t,this)}))}(),{data:function(){return{userInfo:null,incomeRecordList:[],pageNum:1}},components:{XHeader:Se,Flexbox:Ts.a,FlexboxItem:Ns.a},created:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("userInfo"))){t.next=11;break}return this.userInfo=JSON.parse(e),this.$vux.loading.show({text:"loading..."}),t.next=6,_s.getData({url:"/users/myaccountsdetails?loginid="+this.userInfo.id+"&pages="+this.pageNum+"&rowsmax=10",method:"get"});case 6:s=t.sent,this.incomeRecordList=s,this.pageNum++,this.incomeRecordList.forEach(function(t,e){"alipay"==t.pays_types?(t.iconType="icon-zhifubao",t.text="支付宝支付"):(t.iconType="icon-weixin",t.text="微信支付")}),this.$vux.loading.hide();case 11:case"end":return t.stop()}},t,this)}));return t}(),methods:{onInfinite:function(t){var e=this;if(1==this.pageNum)return t(),!1;setTimeout(at()(it.a.mark(function s(){var i;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,_s.getData({url:"/users/myaccountsdetails?loginid="+e.userInfo.id+"&pages="+e.pageNum+"&rowsmax=10",method:"get"});case 2:if(""!=(i=s.sent)){s.next=6;break}return e.$refs.scroller.finishInfinite(2),s.abrupt("return",!1);case 6:e.incomeRecordList=e.incomeRecordList.concat(i),e.incomeRecordList.forEach(function(t,e){"alipay"==t.pays_types?(t.iconType="icon-zhifubao",t.text="支付宝支付"):(t.iconType="icon-weixin",t.text="微信支付")}),e.pageNum++,t();case 10:case"end":return s.stop()}},s,e)})),1e3)}}}),Xr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"IncomeRecord"},[s("scroller",{ref:"scroller",class:t.incomeRecordList.length<10?"hide-scroller":"",attrs:{"on-infinite":t.onInfinite,noDataText:"我是有底线的..."}},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("收入记录")]),t._v(" "),s("div",{staticClass:"IncomeRecord"},t._l(t.incomeRecordList,function(e,i){return s("flexbox",{key:i,staticClass:"flexbox"},[s("flexbox-item",{attrs:{span:1.3}},[s("i",{staticClass:"iconfont",class:e.iconType})]),t._v(" "),s("flexbox-item",{attrs:{span:7.7}},[s("div",[s("div",{staticClass:"text"},[t._v(t._s(e.text))]),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(e.times))])])]),t._v(" "),s("flexbox-item",{staticClass:"x-button-box",attrs:{span:3}},[s("span",[t._v(t._s("+"+e.moneys))])])],1)}),1)],1)],1)},Jr=[],Gr={render:Xr,staticRenderFns:Jr},Yr=Gr,Zr=s("VU/8"),Kr=R,Qr=Zr(Wr,Yr,!1,Kr,null,null),to=Qr.exports,eo={data:function(){return{popupState:!1,imgList:[{src:"static/img/icon/add-img.png"}],editValue:"",imgs:""}},components:{XHeader:Se,XTextarea:Nn,XButton:Gn,XImg:Fe,Grid:pa,GridItem:ya,Popup:zt},created:function(){},methods:{takePhoto:function(){var t=this;return at()(it.a.mark(function e(){var s,i;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt();case 2:if(!(s=e.sent)){e.next=9;break}return t.imgList.push({src:s}),e.next=7,_s.convertImg(s,100,100);case 7:i=e.sent,t.imgs=t.imgs+"||"+i;case 9:t.popupState=!1;case 10:case"end":return e.stop()}},e,t)}))()},selectAlbum:function(){var t=this;return at()(it.a.mark(function e(){var s,i;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(1);case 2:if(!(s=e.sent)){e.next=9;break}return t.imgList.push({src:s}),e.next=7,_s.convertImg(s,100,100);case 7:i=e.sent,t.imgs=t.imgs+"||"+i;case 9:t.popupState=!1;case 10:case"end":return e.stop()}},e,t)}))()},addImg:function(){if(this.imgList.length>5)return this.$vux.alert.show({title:"提示",conbtent:"最多只能添加5张图片"}),!1;this.popupState=!0},commit:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.editValue){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,_s.getData({url:"/materials/feedback",method:"post",param:{contents:t.editValue,updata:t.imgs.substring(2)}});case 4:s=e.sent,t.$vux.toast.show({text:s,onHide:function(){t.$router.go(-1)}});case 6:case"end":return e.stop()}},e,t)}))()}}},so=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ReportOpinion"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("意见反馈")]),t._v(" "),s("div",{staticClass:"content-box"},[s("div",{staticClass:"edit-box"},[s("x-textarea",{attrs:{height:185,placeholder:"写下您的意见或建议，我们将用心聆听，做得更好！"},model:{value:t.editValue,callback:function(e){t.editValue=e},expression:"editValue"}}),t._v(" "),s("grid",{staticClass:"img-list",attrs:{cols:3,"show-lr-borders":!1,"show-vertical-dividers":!1}},t._l(t.imgList,function(e,i){return s("grid-item",{key:i,staticClass:"img-item"},[s("x-img",{staticClass:"add-img",attrs:{"default-src":e.src},nativeOn:{click:function(e){return t.addImg(e)}}})],1)}),1)],1),t._v(" "),s("div",{staticClass:"commit"},[s("x-button",{staticClass:"commit-btn",class:{active:t.editValue},nativeOn:{click:function(e){return t.commit(e)}}},[t._v("提交反馈")])],1)]),t._v(" "),s("popup",{staticClass:"popup",model:{value:t.popupState,callback:function(e){t.popupState=e},expression:"popupState"}},[s("div",{on:{click:t.takePhoto}},[t._v("拍摄")]),t._v(" "),s("div",{on:{click:t.selectAlbum}},[t._v("相册")])])],1)},io=[],no={render:so,staticRenderFns:io},ao=no,ro=s("VU/8"),oo=A,lo=ro(eo,ao,!1,oo,null,null),co=lo.exports,uo={data:function(){return{}},components:{XHeader:Se,Tabbar:ft,TabbarItem:Dt},created:function(){}},ho=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ServicePact"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("《舍豆用户服务协议》")]),t._v(" "),t._m(0)],1)},po=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-box"},[s("div",[t._v("\n          尊敬的用户，欢迎您使用舍豆APP！在使用舍豆的任何服务前，请您必须阅读、理解并接受以下条款。当您决定创建一个舍豆账户时表示您已阅读和接受以下条款。如果您不能完全同意本文件中的条件，则请务必不要使用我们的产品和服务。\n      ")]),t._v(" "),s("section",[s("h1",[t._v("一、协议提示")]),t._v(" "),s("p",[t._v("1．本协议由舍豆APP（以下简称舍豆）与使用本产品服务的用户（以下简称“您”）所订立的协议。如您对协议有任何疑问，应向舍豆客服咨询。但无论您事实上是否在使用舍豆服务之前认真阅读了本协议内容，只要您使用舍豆服务，则本协议即对您产生约束，届时您不应以未阅读本协议的内容或者未获得舍豆对您问询的解答等理由，主张本协议无效，或要求撤销本协议。")]),t._v(" "),s("p",[t._v("2．您承诺遵守本协议的约定。")]),t._v(" "),s("p",[t._v("3．如果你输出的图文并且图文中带有平台上及其他用户上传的图片素材资源即符合使用一次性使用协议，在一次性使用协议下，你便默认同意遵守一次使用协议的相关规定。如果您未遵守相关条款，可能会导致法律诉讼或终止您的账号。")]),t._v(" "),s("p",[t._v("4．舍豆有权根据需要不时地制订、修改本协议，并以网站公示的方式进行公告，不再单独通知您。变更后的协议和规则一经在网站公布后，立即自动生效。如您不同意相关变更，可以停止使用舍豆服务。您继续使用舍豆服务，即表示您接受经修订的协议和规则。")])]),t._v(" "),s("section",[s("h1",[t._v("二、 注册和账户")]),t._v(" "),s("p",[t._v("1．您确认，在您完成注册程序时，您应当是具备完全民事权利能力和完全民事行为能力的自然人、法人或其他组织。若您不具备前述主体资格，则您及您的监护人应承担因此而导致的一切后果，且舍豆有权注销（永久冻结）您的账户，并向您及您的监护人索偿。")]),t._v(" "),s("p",[t._v("2．在您同意本协议，完成注册程序后，舍豆将向您提供一个账户。您的账户仅授权给一个自然人使用。您保证您的账户资料是真实、准确和完整的，并及时更新您的资料。如有合理理由怀疑您提供的资料错误、不实、过时或不完整的，舍豆有权向您发出询问或要求改正的通知，并有权直接做出删除相应资料的处理，直至中止、终止对您提供部分或全部舍豆服务。舍豆对此不承担任何责任，您将承担因此产生的任何直接或间接支出。")]),t._v(" "),s("p",[t._v("3．当您完成注册程序后会拥有自己的账户号码及密码，您需同意舍豆进入您的账户并获得授权的部分。您有责任妥善保管您的账户号码及/或密码(如适用)，您不得发布您的账户资料，或允许他人使用有关的账户资料进入本网站。您同意采取合理措施以防止他人获取您的账户资料，并向舍豆报告任何未经授权的使用，或通知舍豆更新或删除您任何雇员或代理人的使用权。如果您怀疑自己的用户资料被盗用，请立即与我们联系。在获得或未获得您允许的情况下，或在舍豆收到由您发出的未经授权使用通知之前，任何人使用您的账户，并下载图像内容，您有责任全数支付有关费用。不管这些使用是否确实获得您的授权，您确认并同意承担所有因为您的账户被使用而导致的任何损失或后果。此外，您确认并同意对您每一次登录，以及使用或浏览图像内容的过程负责。舍豆有权接受您的用户资料及密码作为您浏览及使用舍豆内容的最终凭证。")]),t._v(" "),s("p",[t._v("4．舍豆将根据您提供的个人邮箱，不定期发送服务相关的通知或其他消息，如法律规定的任何通知、服务特点的更改、特殊的价格更改等，以通过邮件形式代替交流。")]),t._v(" "),s("p",[t._v("5 . 根据2017年6月1日正式实施的《中华人民共和国网络安全法》有关规定，您的账号必须经过实名认证(认证形式包括但不限于绑定手机,提交手持身份证照片)，才可以使用下载、购买VIP会员等服务。")]),t._v(" "),s("p",[t._v("6 . 一个手机号仅可绑定一个舍豆账号，且该手机号仅可解绑一次；一个账号一年仅可解绑一次手机号。")])]),t._v(" "),s("section",[s("h1",[t._v("三、服务条例")]),t._v(" "),s("h3",[t._v(" （一）基本服务")]),t._v(" "),s("p",[t._v("    舍豆以任何形式提供的图像、语音、视频及相关资料内容，包括相关的摄影照片、矢量图形、字体、文本、图片说明，或资料信息(以下合称“内容”)，其所有权属于舍豆或其贡献者，并且受中国及国际版权法以及其它知识产权法律法规所保护。 舍豆作为网络服务提供者，对非法转载，盗版行为的发生不具备充分的监控能力。但是当版权拥有者提出侵权指控并出示充分的版权证明材料时，请及时联系我们，我们将尽快处理。")]),t._v(" "),s("h3",[t._v(" （二）一次性使用协议条款")]),t._v(" "),s("p",[t._v("      受条款和本协议的规定，我们授予您永久的、非独家的、不可转让的全球一次性使用协议来使用图片素材在你的一个舍豆图文中。除了协议中明确指出使用范围，其余您将不可以使用。所有图片素材的其他权利，包括但不限于版权、其他知识产权，由舍豆和贡献者保留视情况而定。(以下合称“内容”)，其所有权属于舍豆或其贡献者，并且受中国及国际版权法以及其它知识产权法律法规所保护。 舍豆作为网络服务提供者，对非法转载，盗版行为的发生不具备充分的监控能力。但是当版权拥有者提出侵权指控并出示充分的版权证明材料时，请及时联系我们，我们将尽快处理。")]),t._v(" "),s("h3",[t._v(" （三）服务声明")]),t._v(" "),s("p",[t._v("1．你可以使用舍豆上符合一次性使用许可协议的素材资源，并正确使用于适用渠道，使用时请确保您已仔细阅读舍豆《免责声明》。")]),t._v(" "),s("h4",[t._v("2．你理解并且同意舍豆为了谨慎起见而所做的行为：")]),t._v(" "),s("p",[t._v("1) 我们将监视你的任何一个输出路径、上传到舍豆的文件或服务，会经常对违反本协议的行为进行处理。")]),t._v(" "),s("p",[t._v("2) 会无限期的保留你输出的设计细节。")]),t._v(" "),s("p",[t._v("3) 会追踪任何滥用你用户名和密码或违反本协议的行为或用户。因此请保存好你的用户名和密码，任何人使用您的账户，并下载素材，您都有责任全数支付有关费用。")]),t._v(" "),s("p",[t._v("4) 暂停或终止您的账户，不另行通知您。如果发现或舍豆有证据认为您有本协议或是任何滥用你的用户名和密码的行为，我们将终止您的账号，并没收所有已得的付费。")]),t._v(" "),s("p",[t._v("3．您使用本网站及其任何内容时应遵守所有适用的法律。舍豆保留全部酌情权利，可于任何时间，以任何理由，在通知或没有通知您的情况下，撤销您浏览、下载以及使用本网站内容和信息的权利。在接到舍豆的通知后，您同意立即停止有关的使用。舍豆还可以基于任何理由，对本网站的内容进行限制或删除处理。您同意在接到舍豆的通知后，立即停止有关内容的使用。\n如果您使用了未经授权的内容，已触犯《中华人民共和国著作权法》及其他相关法律法规，舍豆将会依据《中华人民共和国著作权法》及其他相关法律法规，行使所有的权利及方法去追讨损失，包括向非法使用内容的人士，以及使用内容的受益者追讨金钱上的赔偿。舍豆会根据此协议、图片使用许可协议的相关条款及有关法律法规，向未经授权者追讨费用、损失及赔偿。除此之外，舍豆还会保留一切权利，向未经授权使用者收取(而未经授权使用者必须在此同意支付)十（10）倍版权费。 再者，舍豆或其贡献者有权就非法使用、违反本协议或图片使用许可协议条款向未经授权使用者采取其它法律或索偿行动。更多版权声明请参见《舍豆版权申明》。\n")]),t._v(" "),s("p",[t._v("4．我们尽力确保所提供信息的准确性，然而本网站可能存在技术上或其它方面的错误，以及内容不准确或文字编印上的错误。您应该了解，您的搜索结果可能会包含一些不适当的内容或令人不快的文字。")]),t._v(" "),s("p",[t._v("5．您应全权负责决定您所使用的内容是否需要取得第三方使用授权，或是否需要获取额外的授权。您不应该只依靠舍豆所提供的资料。如果您并不清楚有关内容是否需要额外的第三方使用授权，您有责任咨询知识产权管理专家或法律顾问的专业意见。")]),t._v(" "),s("h3",[t._v("（四）禁止用途")]),t._v(" "),s("h4",[t._v("以下是协议禁止使用部分。")]),t._v(" "),s("p",[t._v("1) 网上图片数据库的检索服务，如复制、转载图片素材或舍豆的设计")]),t._v(" "),s("p",[t._v("2) 安装和使用图片媒体在多个位置或发布设计的副本在网络服务器或Web服务器，以供其他用户使用 ")]),t._v(" "),s("p",[t._v("3) 包括图片素材的所有模板，网页模板，社交网站、文档、项目或其他方式分配或销售给第三方")]),t._v(" "),s("p",[t._v("4) 使用于相关设计模板转售的应用程序，无论在线与否，包括但不限于网站模板，名片模板、电子贺卡模板和宣传册设计模板。")]),t._v(" "),s("p",[t._v("5) 分发许可，转售，出租，出借，转让，赠予或以其他方式转让或分销图片媒体或根据本一次性使用协议授予的权利;")]),t._v(" "),s("p",[t._v("6) 使用无授权素材为商标，设计标志，商品名称，企业名称，服务标志或logo的一部分;")]),t._v(" "),s("p",[t._v("7) 删除版权，商标或其他所有权从任何地方嵌入图片素材资源或舍豆的设计")]),t._v(" "),s("p",[t._v("8) 使用图片素材通过舍豆制作色情，淫秽，不道德，侵犯，诽谤或中伤性的图片，或者很可能给他人带来人身或财产上的损失。")])]),t._v(" "),s("section",[s("h1",[t._v("四、有偿服务")]),t._v(" "),s("p",[t._v("1．基于舍豆提供会员收费服务，因此如果您选择使用本服务的收费项目，表明您同意本服务可能会随时更改收费价格。对于增加新的服务，舍豆可能会额外收费，或者在其决定的时间改变现有服务的收费。")]),t._v(" "),s("p",[t._v("2．您可以随时注销您的舍豆账户；然而，没有注销退款。在舍豆暂停或终止你的账户或此协议的情况下，您理解并且同意你不会收到退款或换取任何补偿，任何订阅的未使用时间，任何关于本服务的许可或订阅费用，任何你账户的关联素材内容和数据，以及其他。")]),t._v(" "),s("p",[t._v("3．您在购买舍豆相关服务时，您同意用支付宝、网银支付方式支付所购买的相关服务，交易或其他金融交易活动中所产生的费用，需您自身承担。")])]),t._v(" "),s("section",[s("h1",[t._v("五、免责声明")]),t._v(" "),s("p",[t._v("1.  舍豆可能因程序BUG、系统故障、版本更新缺陷、第三方病毒攻击或其他任何因素导致您的VIP账户使用异常、数据发生异常等情形时，您认可此情况为不可抗力所致的特殊免责情况。在数据异常的原因未得到查明前，舍豆有权暂时冻结该异常账号；若查明数据异常为非正常使用行为或前述不可抗力行为所致，舍豆有权恢复您的账号数据/会员账号状态至异常发生前的原始状态（包括向第三方追回被转移数据），且舍豆无须向您承担任何责任。 ")]),t._v(" "),s("p",[t._v("2. 舍豆会努力纠正归类，关键词，说明文字，和命名图片素材资源，但不能保证这些信息的准确性，也同样不能保证所提供的元数据的准确性。舍豆的提供图片均通过合法渠道获得，且经过人工审核，但难免会有少量错漏，如果造成的侵权等问题，请及时联系我们纠正，删除侵权内容。")])]),t._v(" "),s("section",[s("h1",[t._v("六、关于隐私")]),t._v(" "),s("p",[t._v("      您理解通过使用这项服务，舍豆将会收集，使用，和适度披露您的个人身份信息及使用数据等。")])]),t._v(" "),s("section",[s("h1",[t._v("七、赔偿")]),t._v(" "),s("h4",[t._v("任何源于或关于：")]),t._v(" "),s("p",[t._v("1) 您违反本协议的任何条款、细则或限制；")]),t._v(" "),s("p",[t._v("2) 在未获得舍豆授权及准许下您使用或修改本网站的任何内容，或把本网站任何内容连结到其它文本或内容；")]),t._v(" "),s("p",[t._v("3) 您在未获得第三方授权及准许下使用本网站的内容；")]),t._v(" "),s("p",[t._v("4) 您或您的任何员工、承包商、雇主、代理商、客户、委托人或用户作出不当行为；")]),t._v(" "),s("p",[t._v("5) 当您因为在社区页面引用本网站内容而引起任何第三方索赔和要求时。\n    您同意对舍豆及其内容资源，管理人员、董事、雇员、承包商、子公司、合资企业、授权商和被授权商进行赔偿，并保证其免受任何损害，并承担所有索赔(包括但不限于第三方索赔)，赔偿责任、造成的损失(包括惩罚性损害赔偿)、判决、协议、费用及开支，当中包括合理的法律费用及开支。\n")])]),t._v(" "),s("section",[s("h1",[t._v("八、协议终止")]),t._v(" "),s("p",[t._v("      此协议一直生效，直至舍豆运用最终决定权终止此协议为止。如果您在违反本协议条款的情况下使用或企图使用本网站或其内容，舍豆可能在通知或不通知您的情况下终止本协议。在没有其它足够的法律措施下，除了终止协议外，舍豆保留应有的权利，包括暂时停止或永久终止您的帐户或密码，并对这些行为执行权利解除令。在本协议被终止或限期届满时，本协议中的各条款仍然有效。")])]),t._v(" "),s("section",[s("h1",[t._v("九、法律适用、管辖与其他")]),t._v(" "),s("p",[t._v("1．本协议之效力、解释、变更、执行与争议解决均适用中华人民共和国法律，如无相关法律规定的，则应参照通用国际商业惯例和（或）行业惯例。")]),t._v(" "),s("p",[t._v("2．本协议中的标题仅为方便而设，在解释本协议时应被忽略。")]),t._v(" "),s("p",[t._v("3．如双方就本合同内容或其执行发生任何争议，双方应进行友好协商，并通过书面形式进行约定；协商不成时，任何一方均有权将争议提交中国国际经济贸易仲裁委员会，根据该会届时有效的仲裁程序和规则进行仲裁。仲裁语言为中文。仲裁裁决是终局的,对各方都有约束力。")])])])}],mo={render:ho,staticRenderFns:po},fo=mo,vo=s("VU/8"),go=O,xo=vo(uo,fo,!1,go,null,null),wo=xo.exports,_o=(function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.mobile=this.$route.query.mobile,this.mobile&&this.getSign();case 2:case"end":return t.stop()}},t,this)}))}(),{data:function(){return{time:60,state:!0,mobile:"",sign:""}},components:{XHeader:Se,XButton:Gn,Group:Ms,XInput:fi},created:function(){},mounted:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.mobile=this.$route.query.mobile,this.mobile&&this.getSign();case 2:case"end":return t.stop()}},t,this)}));return t}(),methods:{getSign:function(){var t=this;return at()(it.a.mark(function e(){return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://www.shedouwang.com/api/ajax/sendssms/?regs-"+t.mobile+".html").then(function(t){return t.json()}).then(function(e){if("success"==e.return_code){var s=e.return_data;if(t.$vux.toast.show({text:s,type:"text"}),"1分钟内不能重复获取验证码"!=s&&s)var i=setInterval(function(){t.time<=0&&(clearInterval(i),t.state=!1,t.time=60),--t.time},1e3);else t.state=!0}else t.$vux.alert.show({title:"提示",content:e.return_data})}).catch(function(t){reject(t)});case 1:case"end":return e.stop()}},e,t)}))()},login:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s.getData({url:"/users/login?login_username="+t.$route.query.mobile+"&login_type=1&mobile_code="+t.sign,method:"get"});case 2:s=e.sent,localStorage.setItem("userInfo",gs()(s)),t.$vux.toast.show({text:"登录成功",type:"text",onHide:function(){t.$router.push({path:"/page/UserIndex"})}});case 5:case"end":return e.stop()}},e,t)}))()},register:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s.getData({url:"/users/register",method:"post",param:{mobile:t.$route.query.mobile,password:t.$route.query.pwd}});case 2:s=e.sent,t.$vux.toast.show({text:s,type:"text",onHide:function(){t.$router.push({path:"/page/user/MobileNumLogin"})}});case 4:case"end":return e.stop()}},e,t)}))()},resetPwd:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s.getData({url:"/users/setpassword",method:"post",param:{mobile:t.$route.query.mobile,password:t.$route.query.pwd,sign:t.sign}});case 2:s=e.sent,t.$vux.toast.show({text:s,type:"text",onHide:function(){t.$router.push({path:"/page/user/LoginIndex"})}});case 4:case"end":return e.stop()}},e,t)}))()}}}),bo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MobileInfoLogin"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}}),t._v(" "),s("div",{staticClass:"content-box"},[s("group",[s("h1",{staticClass:"login-title",attrs:{slot:"title"},slot:"title"},[t._v("填写验证码")]),t._v(" "),s("div",{staticClass:"text"},[t._v("短信验证码已发送至  "+t._s(t.mobile))]),t._v(" "),s("x-input",{staticClass:"mobile",attrs:{title:"验证",placeholder:"请输入验证码"},model:{value:t.sign,callback:function(e){t.sign=e},expression:"sign"}},[t.state?s("span",{staticClass:"get-verification-code",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.time)+"秒后重新获取")]):s("span",{staticClass:"get-verification-code-btn",attrs:{slot:"right"},on:{click:t.getSign},slot:"right"},[t._v("重新获取")])]),t._v(" "),"register"==t.$route.query.type?s("x-button",{staticClass:"login-commit",nativeOn:{click:function(e){return t.register(e)}}},[t._v("注册")]):t._e(),t._v(" "),"login"==t.$route.query.type?s("x-button",{staticClass:"login-commit",nativeOn:{click:function(e){return t.login(e)}}},[t._v("登录")]):t._e(),t._v(" "),"resetPwd"==t.$route.query.type?s("x-button",{staticClass:"login-commit",nativeOn:{click:function(e){return t.resetPwd(e)}}},[t._v("提交")]):t._e()],1)],1)],1)},yo=[],Co={render:bo,staticRenderFns:yo},ko=Co,So=s("VU/8"),Io=E,$o=So(_o,ko,!1,Io,null,null),Lo=$o.exports,Vo={data:function(){return{mobile:"",pwd:""}},components:{XHeader:Se,XButton:Gn,Group:Ms,XInput:fi},created:function(){},methods:{wechatLogin:function(){_s.wechatLogin(this)},commit:function(){var t=this.mobile,e=this.pwd;t.match(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/)&&e?this.$router.push({path:"/page/user/MobileInfoVerification",query:{type:"resetPwd",mobile:t,pwd:e}}):this.$vux.alert.show({title:"提示",content:"请输入正确的手机号或密码"})}}},To=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ForgetPwd"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[s("span",{staticClass:"to-register",attrs:{slot:"right"},slot:"right"},[s("router-link",{attrs:{to:"/page/user/Register"}},[t._v("注册")])],1)]),t._v(" "),s("div",{staticClass:"content-box"},[s("div",[s("h1",{staticClass:"login-title",attrs:{slot:"title"},slot:"title"},[t._v("忘记密码")]),t._v(" "),s("x-input",{staticClass:"mobile",attrs:{title:"手机",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),s("x-input",{staticClass:"pwd",attrs:{title:"密码",placeholder:"请输入新密码"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}}),t._v(" "),s("x-button",{staticClass:"login-commit",nativeOn:{click:function(e){return t.commit(e)}}},[t._v("确认")])],1),t._v(" "),s("div",{staticClass:"fast-login"},[s("div",{staticClass:"title"},[t._v("其他方式登录")]),t._v(" "),s("div",{staticClass:"btns"},[s("i",{staticClass:"iconfont icon-xinlang"}),t._v(" "),s("i",{staticClass:"iconfont icon-weixin1",on:{click:t.wechatLogin}}),t._v(" "),s("i",{staticClass:"iconfont icon-QQ"})])]),t._v(" "),s("div",{staticClass:"statement-box"},[t._v("\n        登录或注册即同意舍豆\n        "),s("router-link",{attrs:{to:"/page/ServicePact"}},[t._v("《用户服务协议》")])],1)])],1)},No=[],Do={render:To,staticRenderFns:No},Bo=Do,Ro=s("VU/8"),Ao=F,Oo=Ro(Vo,Bo,!1,Ao,null,null),Eo=Oo.exports,Fo=s("NjrX"),Po=(Array,String,Boolean,Boolean,String,String,Boolean,Boolean,Number,Number,Number,String,Number,Number,Number,{name:"swiper",created:function(){this.index=this.value||0,this.index&&(this.current=this.index)},mounted:function(){var t=this;this.hasTwoLoopItem(),this.$nextTick(function(){t.list&&0===t.list.length||t.render(t.index),t.xheight=t.getHeight(),t.$emit("on-get-height",t.xheight)})},methods:{hasTwoLoopItem:function(){2===this.list.length&&this.loop?this.listTwoLoopItem=this.list:this.listTwoLoopItem=[]},clickListItem:function(t){Object(Pe.a)(t.url,this.$router),this.$emit("on-click-list-item",JSON.parse(gs()(t)))},buildBackgroundUrl:function(t){return t.fallbackImg?"url("+t.img+"), url("+t.fallbackImg+")":"url("+t.img+")"},render:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.swiper&&this.swiper.destroy(),this.swiper=new Fo.a({container:this.$el,direction:this.direction,auto:this.auto,loop:this.loop,interval:this.interval,threshold:this.threshold,duration:this.duration,height:this.height||this._height,minMovingDistance:this.minMovingDistance,imgList:this.imgList}).on("swiped",function(e,s){t.current=s%t.length,t.index=s%t.length}),e>0&&this.swiper.go(e)},rerender:function(){var t=this;this.$el&&!this.hasRender&&(this.hasRender=!0,this.hasTwoLoopItem(),this.$nextTick(function(){t.index=t.value||0,t.current=t.value||0,t.length=t.list.length||t.$children.length,t.destroy(),t.render(t.value)}))},destroy:function(){this.hasRender=!1,this.swiper&&this.swiper.destroy()},getHeight:function(){var t=parseInt(this.height,10);return t?this.height:t?void 0:this.aspectRatio?this.$el.offsetWidth*this.aspectRatio+"px":"180px"}},props:{list:{type:Array,default:function(){return[]}},direction:{type:String,default:"horizontal"},showDots:{type:Boolean,default:!0},showDescMask:{type:Boolean,default:!0},dotsPosition:{type:String,default:"right"},dotsClass:String,auto:Boolean,loop:Boolean,interval:{type:Number,default:3e3},threshold:{type:Number,default:50},duration:{type:Number,default:300},height:{type:String,default:"auto"},aspectRatio:Number,minMovingDistance:{type:Number,default:0},value:{type:Number,default:0}},data:function(){return{hasRender:!1,current:this.index||0,xheight:"auto",length:this.list.length,index:0,listTwoLoopItem:[]}},watch:{auto:function(t){t?this.swiper&&this.swiper._auto():this.swiper&&this.swiper.stop()},list:function(t,e){gs()(t)!==gs()(e)&&this.rerender()},current:function(t){this.index=t,this.$emit("on-index-change",t)},index:function(t){var e=this;t!==this.current&&this.$nextTick(function(){e.swiper&&e.swiper.go(t)}),this.$emit("input",t)},value:function(t){this.index=t}},beforeDestroy:function(){this.destroy()}}),Mo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-slider"},[s("div",{staticClass:"vux-swiper",style:{height:t.xheight}},[t._t("default"),t._v(" "),t._l(t.list,function(e,i){return s("div",{staticClass:"vux-swiper-item",attrs:{"data-index":i},on:{click:function(s){return t.clickListItem(e)}}},[s("a",{attrs:{href:"javascript:"}},[s("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?s("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])])}),t._v(" "),t._l(t.listTwoLoopItem,function(e,i){return t.listTwoLoopItem.length>0?s("div",{staticClass:"vux-swiper-item vux-swiper-item-clone",attrs:{"data-index":i},on:{click:function(s){return t.clickListItem(e)}}},[s("a",{attrs:{href:"javascript:"}},[s("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?s("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])]):t._e()})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDots,expression:"showDots"}],class:[t.dotsClass,"vux-indicator","vux-indicator-"+t.dotsPosition]},t._l(t.length,function(e){return s("a",{attrs:{href:"javascript:"}},[s("i",{staticClass:"vux-icon-dot",class:{active:e-1===t.current}})])}),0)])},Uo=[],jo={render:Mo,staticRenderFns:Uo},Ho=jo,qo=s("VU/8"),zo=P,Wo=qo(Po,Ho,!1,zo,null,null),Xo=Wo.exports,Jo={data:function(){return{baseList:{pageHeight:document.documentElement.clientHeight+"px",list:[{img:"static/img/img.png"},{img:"static/img/img.png"},{img:"static/img/img.png"}]}}},components:{XHeader:Se,Swiper:Xo,XImg:Fe,XButton:Gn},created:function(){},methods:{wechatLogin:function(){_s.wechatLogin(this)}}},Go=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"LoginIndex"},[s("swiper",{staticClass:"swiper",attrs:{height:t.baseList.pageHeight,"show-dots":!1,interval:5e3,duration:3e3,auto:!0,loop:"",list:t.baseList.list}}),t._v(" "),s("div",{staticClass:"content-box"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:"",showBack:!1}}},[s("span",{attrs:{slot:"right"},slot:"right"},[s("router-link",{staticClass:"to-index",attrs:{to:"/"}},[t._v("随便逛逛")])],1)]),t._v(" "),s("div",{staticClass:"logo-box"},[s("x-img",{staticClass:"logo-img",attrs:{"default-src":"static/img/icon/logo-text.png"}}),t._v(" "),s("span",{staticClass:"logo-desc"},[t._v("美好生活研究院")])],1),t._v(" "),s("div",{staticClass:"login-register-btns"},[s("x-button",{staticClass:"register",attrs:{"is-link":"",link:"/page/user/Register"}},[t._v("注册")]),t._v(" "),s("div",[t._v("已经有账号了？")]),t._v(" "),s("x-button",{staticClass:"login",attrs:{"is-link":"",link:"/page/user/MobileNumLogin"}},[t._v("登录")])],1),t._v(" "),s("div",{staticClass:"fast-login"},[s("div",{staticClass:"title"},[t._v("其他方式登录")]),t._v(" "),s("div",{staticClass:"btns"},[s("i",{staticClass:"iconfont icon-xinlang"}),t._v(" "),s("i",{staticClass:"iconfont icon-weixin1",on:{click:t.wechatLogin}}),t._v(" "),s("i",{staticClass:"iconfont icon-QQ"})])]),t._v(" "),s("div",{staticClass:"statement-box"},[t._v("\n      登录或注册即同意舍豆\n      "),s("router-link",{attrs:{to:"/page/ServicePact"}},[t._v("用户服务协议")])],1)],1)],1)},Yo=[],Zo={render:Go,staticRenderFns:Yo},Ko=Zo,Qo=s("VU/8"),tl=M,el=Qo(Jo,Ko,!1,tl,null,null),sl=el.exports,il={data:function(){return{mobile:""}},components:{XHeader:Se,XButton:Gn,Group:Ms,XInput:fi},created:function(){},methods:{commit:function(){var t=this.mobile;t.match(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/)?this.$router.push({path:"/page/user/MobileInfoVerification",query:{type:"login",mobile:t}}):this.$vux.alert.show({title:"提示",content:"请输入正确的手机号码"})}}},nl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MobileInfoLogin"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}}),t._v(" "),s("div",{staticClass:"content-box"},[s("group",[s("h1",{staticClass:"login-title",attrs:{slot:"title"},slot:"title"},[t._v("短信登录")]),t._v(" "),s("x-input",{staticClass:"mobile",attrs:{title:"手机",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),s("x-button",{staticClass:"login-commit",nativeOn:{click:function(e){return t.commit(e)}}},[t._v("下一步")])],1)],1)],1)},al=[],rl={render:nl,staticRenderFns:al},ol=rl,ll=s("VU/8"),cl=U,ul=ll(il,ol,!1,cl,null,null),hl=ul.exports,dl=s("Dd8w"),pl=s.n(dl),ml=s("NYxO"),fl=(s("mw3O"),pl()({},Object(ml.b)({updateUserInfo:"updateUserInfo"}),{loginCommit:function(){var t=this;return at()(it.a.mark(function e(){var s,i,n,a;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.mobile,i=t.pwd,!s.match(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/)||!i){e.next=9;break}return e.next=5,_s.request({url:"/users/login",method:"post",param:{login_username:s,login_type:0,login_password:i}});case 5:n=e.sent,"success"==n.return_code?(a=n.return_data,t.$vux.toast.show({text:"登录成功",onHide:function(){t.$router.push({path:"/"})}}),t.updateUserInfo(a),localStorage.setItem("userInfo",gs()(a))):t.$vux.alert.show({title:"提示",content:"登录失败，请稍后重试"}),e.next=10;break;case 9:t.$vux.alert.show({title:"提示",content:"手机号或密码有误"});case 10:case"end":return e.stop()}},e,t)}))()},wechatLogin:function(){_s.wechatLogin(this)}}),s("mw3O"),{data:function(){return{mobile:"",pwd:""}},computed:{},components:{XHeader:Se,XButton:Gn,Group:Ms,XInput:fi},created:function(){},methods:pl()({},Object(ml.b)({updateUserInfo:"updateUserInfo"}),{loginCommit:function(){var t=this;return at()(it.a.mark(function e(){var s,i,n,a;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.mobile,i=t.pwd,!s.match(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/)||!i){e.next=9;break}return e.next=5,_s.request({url:"/users/login",method:"post",param:{login_username:s,login_type:0,login_password:i}});case 5:n=e.sent,"success"==n.return_code?(a=n.return_data,t.$vux.toast.show({text:"登录成功",onHide:function(){t.$router.push({path:"/"})}}),t.updateUserInfo(a),localStorage.setItem("userInfo",gs()(a))):t.$vux.alert.show({title:"提示",content:"登录失败，请稍后重试"}),e.next=10;break;case 9:t.$vux.alert.show({title:"提示",content:"手机号或密码有误"});case 10:case"end":return e.stop()}},e,t)}))()},wechatLogin:function(){_s.wechatLogin(this)}})}),vl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MobileNumLogin"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[s("span",{staticClass:"to-register",attrs:{slot:"right"},slot:"right"},[s("router-link",{attrs:{to:"/page/user/Register"}},[t._v("注册")])],1)]),t._v(" "),s("div",{staticClass:"content-box"},[s("div",[s("h1",{staticClass:"login-title",attrs:{slot:"title"},slot:"title"},[t._v("手机号登录")]),t._v(" "),s("x-input",{staticClass:"mobile",attrs:{title:"手机",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),s("x-input",{staticClass:"pwd",attrs:{type:"password",title:"密码",placeholder:"请输入登录密码"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}}),t._v(" "),s("div",{staticClass:"forget-pwd"},[s("router-link",{attrs:{to:"/page/user/MobileInfoLogin"}},[t._v("短信登录")]),t._v(" "),s("router-link",{attrs:{to:"/page/user/ForgetPwd"}},[t._v("忘记密码？")])],1),t._v(" "),s("x-button",{staticClass:"login-commit",nativeOn:{click:function(e){return t.loginCommit(e)}}},[t._v("立即登录")])],1),t._v(" "),s("div",{staticClass:"fast-login"},[s("div",{staticClass:"title"},[t._v("其他方式登录")]),t._v(" "),s("div",{staticClass:"btns"},[s("i",{staticClass:"iconfont icon-xinlang"}),t._v(" "),s("i",{staticClass:"iconfont icon-weixin1",on:{click:t.wechatLogin}}),t._v(" "),s("i",{staticClass:"iconfont icon-QQ"})])]),t._v(" "),s("div",{staticClass:"statement-box"},[t._v("\n        登录或注册即同意舍豆\n        "),s("router-link",{attrs:{to:"/page/ServicePact"}},[t._v("《用户服务协议》")])],1)])],1)},gl=[],xl={render:vl,staticRenderFns:gl},wl=xl,_l=s("VU/8"),bl=j,yl=_l(fl,wl,!1,bl,null,null),Cl=yl.exports,kl={data:function(){return{pwdShowState:!1,password:"password",mobile:"",pwd:""}},components:{XHeader:Se,XButton:Gn,Group:Ms,XInput:fi},created:function(){},methods:{wechatLogin:function(){_s.wechatLogin(this)},pwdToggle:function(){this.pwdShowState=!this.pwdShowState},register:function(){var t=this.mobile,e=this.pwd;t.match(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/)&&e?this.$router.push({path:"/page/user/MobileInfoVerification",query:{type:"register",mobile:t,pwd:e}}):this.$vux.alert.show({title:"提示",content:"请输入正确的手机号或密码"})}},watch:{pwdShowState:function(t){this.password=t?"text":"password"}}},Sl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MobileNumLogin"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[s("span",{staticClass:"to-register",attrs:{slot:"right"},slot:"right"},[s("router-link",{attrs:{to:"/page/user/MobileNumLogin"}},[t._v("登录")])],1)]),t._v(" "),s("div",{staticClass:"content-box"},[s("div",[s("h1",{staticClass:"login-title",attrs:{slot:"title"},slot:"title"},[t._v("手机号注册")]),t._v(" "),s("x-input",{staticClass:"mobile",attrs:{title:"手机",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),s("x-input",{staticClass:"pwd",attrs:{type:t.password,title:"密码",placeholder:"请设置登录密码"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.pwdShowState,expression:"pwdShowState"}],staticClass:"iconfont icon-mimakejian",attrs:{slot:"right"},on:{click:t.pwdToggle},slot:"right"}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:!t.pwdShowState,expression:"!pwdShowState"}],staticClass:"iconfont icon-mimabukejian",attrs:{slot:"right"},on:{click:t.pwdToggle},slot:"right"})]),t._v(" "),s("x-button",{staticClass:"login-commit",nativeOn:{click:function(e){return t.register(e)}}},[t._v("注册")])],1),t._v(" "),s("div",{staticClass:"fast-login"},[s("div",{staticClass:"title"},[t._v("其他方式登录")]),t._v(" "),s("div",{staticClass:"btns"},[s("i",{staticClass:"iconfont icon-xinlang"}),t._v(" "),s("i",{staticClass:"iconfont icon-weixin1",on:{click:t.wechatLogin}}),t._v(" "),s("i",{staticClass:"iconfont icon-QQ"})])]),t._v(" "),s("div",{staticClass:"statement-box"},[t._v("\n        登录或注册即同意舍豆\n        "),s("router-link",{attrs:{to:"/page/ServicePact"}},[t._v("《用户服务协议》")])],1)])],1)},Il=[],$l={render:Sl,staticRenderFns:Il},Ll=$l,Vl=s("VU/8"),Tl=H,Nl=Vl(kl,Ll,!1,Tl,null,null),Dl=Nl.exports,Bl={data:function(){return{pwdShowState:!1,password:"password",mobile:"",time:60,state:!1,pwd:"",mobile_code:"",timer:null}},components:{XHeader:Se,XButton:Gn,Group:Ms,XInput:fi},created:function(){this.timer&&clearInterval(this.timer)},methods:{getSign:function(){var t=this;return at()(it.a.mark(function e(){return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://www.shedouwang.com/api/ajax/sendssms/?regs-"+t.mobile+".html").then(function(t){return t.json()}).then(function(e){if("success"==e.return_code){var s=e.return_data;t.$vux.toast.show({text:s,type:"text"}),"1分钟内不能重复获取验证码"!=s&&s?(t.state=!0,t.timer=setInterval(function(){t.time<=0&&(clearInterval(t.timer),t.state=!1,t.time=60),--t.time},1e3)):t.state=!1}else t.$vux.alert.show({title:"提示",content:e.return_data})}).catch(function(e){t.$vux.alert.show({title:"提示",content:e})});case 1:case"end":return e.stop()}},e,t)}))()},pwdToggle:function(){this.pwdShowState=!this.pwdShowState},commit:function(){var t=this;return at()(it.a.mark(function e(){var s,i,n,a,r;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.$route.params.wechatUserinfo,i=t.mobile,n=t.pwd,a=t.mobile_code,!i.match(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/)||!n){e.next=12;break}return e.next=7,_s.getData({url:"/oauth/bands",method:"post",param:{openid:s.openid,nickname:s.nickname,sex:s.sex,language:s.language,headimgurl:s.headimgurl,unionid:s.unionid,mobile:i,password:n,mobile_code:a}});case 7:r=e.sent,localStorage.setItem("userInfo",gs()(r)),t.$vux.toast.show({text:"提交成功",onHide:function(){t.$router.push({path:"/"})}}),e.next=13;break;case 12:t.$vux.alert.show({title:"提示",content:"请输入正确的手机号或密码"});case 13:case"end":return e.stop()}},e,t)}))()}},watch:{pwdShowState:function(t){this.password=t?"text":"password"}}},Rl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"BandUserInfo"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}}),t._v(" "),s("div",{staticClass:"content-box"},[s("group",[s("h1",{staticClass:"login-title",attrs:{slot:"title"},slot:"title"},[t._v("完善信息")]),t._v(" "),s("x-input",{staticClass:"mobile",attrs:{title:"手机",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),s("x-input",{staticClass:"mobile",attrs:{title:"验证",placeholder:"请输入验证码"},model:{value:t.mobile_code,callback:function(e){t.mobile_code=e},expression:"mobile_code"}},[t.state?s("span",{staticClass:"get-verification-code",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.time)+"秒后重新获取")]):s("span",{staticClass:"get-verification-code-btn",attrs:{slot:"right"},on:{click:t.getSign},slot:"right"},[t._v("获取验证码")])]),t._v(" "),s("x-input",{staticClass:"pwd",attrs:{type:t.password,title:"密码",placeholder:"请设置登录密码"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.pwdShowState,expression:"pwdShowState"}],staticClass:"iconfont icon-mimakejian",attrs:{slot:"right"},on:{click:t.pwdToggle},slot:"right"}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:!t.pwdShowState,expression:"!pwdShowState"}],staticClass:"iconfont icon-mimabukejian",attrs:{slot:"right"},on:{click:t.pwdToggle},slot:"right"})]),t._v(" "),s("x-button",{staticClass:"login-commit",nativeOn:{click:function(e){return t.commit(e)}}},[t._v("提交")])],1)],1)],1)},Al=[],Ol={render:Rl,staticRenderFns:Al},El=Ol,Fl=s("VU/8"),Pl=q,Ml=Fl(Bl,El,!1,Pl,null,null),Ul=Ml.exports,jl=(function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n=this;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("userInfo"),e&&(this.userInfo=JSON.parse(e)),this.$vux.loading.show({text:"Loading"}),t.next=5,_s.getData({url:"/materials/topicslists",method:"post"});case 5:return s=t.sent,this.tab.tabList=this.tab.tabList.concat(s),t.next=9,_s.getData({url:"/materials/bannerslists",method:"post"});case 9:return this.bannerList=t.sent,this.bannerList.forEach(function(t,e){t={img:t.thumbs},n.baseList.push(t)}),i=void 0,i=this.userInfo?"/materials/postslists?loginid="+this.userInfo.id+"&topics_id="+this.tab.id+"&pages="+this.pageNum+"&rowsmax=10":"/materials/postslists?topics_id="+this.tab.id+"&pages="+this.pageNum+"&rowsmax=10",t.next=15,_s.getData({url:i,method:"get"});case 15:this.designList=t.sent,this.pageNum++,this.designList.forEach(function(t,e){switch(t.previewList=[],t.images.forEach(function(e){t.previewList.push({id:e.id,img:e.updatas,collected:e.collected||0})}),t.sex=1==t.gender?"boy":"girl",t.previewList.length){case 1:t.class="one-img";break;case 2:t.class="two-img";break;case 3:t.class="three-img";break;case 4:t.class="four-img";break;case 5:t.class="five-img";break;case 6:t.class="fix-img";break;case 7:t.class="seven-img";break;case 8:t.class="eight-img";break;case 9:t.class="nine-img"}}),this.$vux.loading.hide(),this.pageShow=!0;case 20:case"end":return t.stop()}},t,this)}))}(),Ts.a,Ns.a,{data:function(){return{pageShow:!1,messageBadge:"80",popup:{popupState:!1,type:"reward"},rewards:{list:[.01,.1,.5,1,5,10],seleted:-1},cellArr:[{title:"支付宝",lefticonclass:"icon-zhifubao",righticonclass:"icon-weixuanzhong"}],selectPayMethod:"",confirmReward:"",menuBoxShow:!1,showReportPopup:!1,reportCellArr:[{title:"淫秽色情",lefticonclass:"",righticonclass:"icon-weixuanzhong"},{title:"违法信息",lefticonclass:"",righticonclass:"icon-weixuanzhong"},{title:"营销广告",lefticonclass:"",righticonclass:"icon-weixuanzhong"},{title:"恶意攻击谩骂",lefticonclass:"",righticonclass:"icon-weixuanzhong"}],previewList:{list:[],index:0,userId:""},tab:{tabList:[{id:"0",tits:"全部"}],id:0},baseList:[],designList:[],currentDesignItem:null,currentPreviewDesignItem:null,userInfo:null,pageNum:1,sharePopup:!1}},created:function(){},mounted:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n=this;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("userInfo"),e&&(this.userInfo=JSON.parse(e)),this.$vux.loading.show({text:"Loading"}),t.next=5,_s.getData({url:"/materials/topicslists",method:"post"});case 5:return s=t.sent,this.tab.tabList=this.tab.tabList.concat(s),t.next=9,_s.getData({url:"/materials/bannerslists",method:"post"});case 9:return this.bannerList=t.sent,this.bannerList.forEach(function(t,e){t={img:t.thumbs},n.baseList.push(t)}),i=void 0,i=this.userInfo?"/materials/postslists?loginid="+this.userInfo.id+"&topics_id="+this.tab.id+"&pages="+this.pageNum+"&rowsmax=10":"/materials/postslists?topics_id="+this.tab.id+"&pages="+this.pageNum+"&rowsmax=10",t.next=15,_s.getData({url:i,method:"get"});case 15:this.designList=t.sent,this.pageNum++,this.designList.forEach(function(t,e){switch(t.previewList=[],t.images.forEach(function(e){t.previewList.push({id:e.id,img:e.updatas,collected:e.collected||0})}),t.sex=1==t.gender?"boy":"girl",t.previewList.length){case 1:t.class="one-img";break;case 2:t.class="two-img";break;case 3:t.class="three-img";break;case 4:t.class="four-img";break;case 5:t.class="five-img";break;case 6:t.class="fix-img";break;case 7:t.class="seven-img";break;case 8:t.class="eight-img";break;case 9:t.class="nine-img"}}),this.$vux.loading.hide(),this.pageShow=!0;case 20:case"end":return t.stop()}},t,this)}));return t}(),methods:{seleted:function(t){var e=this;return at()(it.a.mark(function s(){var i;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.tab.id=t,e.pageNum=1,e.$vux.loading.show({text:"Loading"}),i=void 0,i=e.userInfo?"/materials/postslists?loginid="+e.userInfo.id+"&topics_id="+e.tab.id+"&pages="+e.pageNum+"&rowsmax=10":"/materials/postslists?topics_id="+e.tab.id+"&pages="+e.pageNum+"&rowsmax=10",s.next=7,_s.getData({url:i,method:"get"});case 7:e.designList=s.sent,e.pageNum++,e.designList.forEach(function(t,e){switch(t.previewList=[],t.images.forEach(function(e){t.previewList.push({id:e.id,img:e.updatas,collected:e.collected||0})}),t.sex=1==t.gender?"boy":"girl",t.previewList.length){case 1:t.class="one-img";break;case 2:t.class="two-img";break;case 3:t.class="three-img";break;case 4:t.class="four-img";break;case 5:t.class="five-img";break;case 6:t.class="fix-img";break;case 7:t.class="seven-img";break;case 8:t.class="eight-img";break;case 9:t.class="nine-img"}}),e.$vux.loading.hide();case 11:case"end":return s.stop()}},s,e)}))()},imgCollect:function(t,e){var s=this;return at()(it.a.mark(function i(){var n;return it.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!s.userInfo){i.next=10;break}if(1!=t.collected){i.next=4;break}return s.$vux.alert.show({title:"提示",content:"不能重复收藏"}),i.abrupt("return",!1);case 4:return i.next=6,_s.request({url:"/materials/collects",method:"post",param:{loginid:s.userInfo.id,users_mains_id:e,targets_id:t.id,types:1}});case 6:n=i.sent,"success"==n.return_code?(s.$vux.toast.show({text:"收藏成功"}),t.collected=1):s.$vux.alert.show({title:"提示",content:n.return_data}),i.next=11;break;case 10:s.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){s.$router.push({path:"/page/user/LoginIndex"})}});case 11:case"end":return i.stop()}},i,s)}))()},showMenu:function(t){this.menuBoxShow=!this.menuBoxShow,this.currentDesignItem=t},toogleReportPopup:function(){this.menuBoxShow=!1,this.showReportPopup=!this.showReportPopup},selectReport:function(t){this.confirmContent=t.title,this.reportCellArr.forEach(function(t,e){t.righticonclass="icon-weixuanzhong"}),t.righticonclass="icon-xuanzhong"},reportCommit:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.confirmContent){e.next=9;break}return t.$vux.loading.show({text:"Loading"}),e.next=4,_s.request({url:"/materials/reports",method:"post",param:{loginid:t.userInfo.id,users_mains_id:t.currentDesignItem.userid,reasons:t.confirmContent,types:2,targets_id:t.currentDesignItem.sources_id}});case 4:s=e.sent,"success"==s.return_code?(t.$vux.toast.show({text:s.return_data}),t.showReportPopup=!1,t.confirmContent=""):t.$vux.alert.show({title:"提示",content:s.return_data}),t.$vux.loading.hide(),e.next=10;break;case 9:t.$vux.alert.show({title:"提示",content:"请选择举报内容"});case 10:case"end":return e.stop()}},e,t)}))()},show:function(t,e){this.previewList.index=t,this.previewList.list=e.previewList,this.previewList.userId=e.userid,this.currentPreviewDesignItem=e},previewClose:function(){this.previewList.list=[]},toDetail:function(t,e){this.$router.push({path:"/page/take_photo/DesignDetail",query:{id:t.sources_id,type:e}})},togglePopup:function(t){this.popup.type=t,this.popup.popupState=!this.popup.popupState},rewardSelected:function(t){this.confirmReward=this.rewards.list[t],this.rewards.seleted=t,this.toPay()},toPay:function(){this.popup.type="pay"},backSelectReward:function(){this.confirmReward="",this.popup.type="reward"},selectPay:function(t){this.selectPayMethod=t.title,this.cellArr.forEach(function(t,e){t.righticonclass="icon-weixuanzhong"}),t.righticonclass="icon-xuanzhong"},payCommit:function(){var t=this;return at()(it.a.mark(function e(){var s,i;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.userInfo){e.next=13;break}if(t.selectPayMethod){e.next=5;break}t.$vux.alert.show({title:"提示",content:"请选择付款方式"}),e.next=11;break;case 5:if("支付宝"!=t.selectPayMethod){e.next=11;break}return e.next=8,_s.getData({url:"/materials/praisepays",method:"post",param:{loginid:t.userInfo.id,users_mains_id:t.currentPreviewDesignItem.userid,moneys:t.confirmReward}});case 8:s=e.sent,i=s,window.Alipay.pay(i,function(e){t.$vux.toast.show({text:"打赏成功"})},function(t){console.error(t)});case 11:e.next=14;break;case 13:t.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){t.$router.push({path:"/page/user/LoginIndex"})}});case 14:case"end":return e.stop()}},e,t)}))()},follow:function(t){var e=this;return at()(it.a.mark(function s(){var i,n;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=t.followed?0:1,!e.userInfo){s.next=9;break}return s.next=4,_s.request({url:"/materials/usersfollows",method:"post",param:{users_mains_id:t.userid,loginid:e.userInfo.id,types:i}});case 4:n=s.sent,"success"==n.return_code&&(t.followed=i,e.designList.forEach(function(e,s){t.userid==e.userid&&(e.followed=t.followed)})),e.$vux.toast.show({text:n.return_data}),s.next=10;break;case 9:e.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){e.$router.push({path:"/page/user/LoginIndex"})}});case 10:case"end":return s.stop()}},s,e)}))()},liking:function(t){var e=this;return at()(it.a.mark(function s(){var i;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.userInfo){s.next=10;break}if(1!=t.praised){s.next=4;break}return e.$vux.alert.show({title:"提示",content:"不能重复点赞"}),s.abrupt("return",!1);case 4:return s.next=6,_s.request({url:"/materials/scores",method:"post",param:{users_mains_id:t.userid,loginid:e.userInfo.id,types:1,scores:5,targets_id:t.sources_id}});case 6:i=s.sent,"success"==i.return_code?(t.praised=1,t.praisesnums++,e.$vux.toast.show({text:i.return_data})):e.$vux.alert.show({title:"提示",content:i.return_data}),s.next=11;break;case 10:e.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){e.$router.push({path:"/page/user/LoginIndex"})}});case 11:case"end":return s.stop()}},s,e)}))()},onInfinite:function(t){var e=this;if(1==this.pageNum)return t(),!1;setTimeout(at()(it.a.mark(function s(){var i,n;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=void 0,i=(e.userInfo,"/materials/postslists?topics_id="+e.tab.id+"&pages="+e.pageNum+"&rowsmax=10"),s.next=4,_s.getData({url:i,method:"get"});case 4:if(""!=(n=s.sent)){s.next=8;break}return e.$refs.scroller.finishInfinite(2),s.abrupt("return",!1);case 8:e.designList=e.designList.concat(n),e.pageNum++,e.designList.forEach(function(t,e){switch(t.previewList=[],t.images.forEach(function(e){t.previewList.push({id:e.id,img:e.updatas,collected:e.collected||0})}),t.sex=1==t.gender?"boy":"girl",t.previewList.length){case 1:t.class="one-img";break;case 2:t.class="two-img";break;case 3:t.class="three-img";break;case 4:t.class="four-img";break;case 5:t.class="five-img";break;case 6:t.class="fix-img";break;case 7:t.class="seven-img";break;case 8:t.class="eight-img";break;case 9:t.class="nine-img"}}),t();case 12:case"end":return s.stop()}},s,e)})),1e3)},downs:function(t){var e=this;return at()(it.a.mark(function s(){var i;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,_s.convertImg(t.img,675,934);case 2:i=s.sent,Yt(i).then(function(t){t&&e.$vux.toast.show({text:"保存成功"})}).catch(function(t){e.$vux.alert.show({title:"提示",content:t})});case 4:case"end":return s.stop()}},s,e)}))()},selectShare:function(t){this.shareImg=t.img,this.sharePopup=!0},share:function(t){var e=this;window.Wechat.share({message:{title:"随手拍",description:"随手拍",thumb:this.shareImg,media:{type:window.Wechat.Type.IMAGE,image:this.shareImg}},scene:"friends"==t?window.Wechat.Scene.TIMELINE:window.Wechat.Scene.SESSION},function(t){e.sharePopup=!1},function(t){e.$vux.alert.show({title:"提示",content:t})})}},components:{XHeader:Se,Swiper:Xo,XButton:Gn,Flexbox:Ts.a,FlexboxItem:Ns.a,XImg:Fe,Popup:zt,XInput:fi,Card:Je,Cell:fs,Badge:kt},watch:{}}),Hl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.pageShow?s("div",{staticClass:"TakePhoto"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{showBack:!1}}},[t._v("随手拍\n      ")]),t._v(" "),s("div",{staticClass:"tab-box"},[s("div",{staticClass:"tab-title"},[t._v("热门话题")]),t._v(" "),s("div",{staticClass:"tab-list"},[s("div",{staticStyle:{width:"max-content"}},t._l(t.tab.tabList,function(e,i){return s("span",{key:i,class:t.tab.id==e.id?"active":"",on:{click:function(s){return t.seleted(e.id)}}},[t._v(t._s(e.tits))])}),0)])]),t._v(" "),s("scroller",{ref:"scroller",class:t.designList.length<10?"hide-scroller":"",attrs:{"on-infinite":t.onInfinite,noDataText:"我是有底线的..."}},[s("div",{staticClass:"content-box"},[s("swiper",{staticClass:"swiper",attrs:{loop:"",list:t.baseList}}),t._v(" "),t._l(t.designList,function(e,i){return s("div",{key:i,staticClass:"design-list",on:{click:function(s){return t.toDetail(e,"detail")}}},[s("flexbox",{staticClass:"flexbox"},[s("flexbox-item",{attrs:{span:1.7}},[s("img",{staticClass:"avatar",attrs:{src:e.users_logos||"static/img/default-avatar.png",alt:""}})]),t._v(" "),s("flexbox-item",{attrs:{span:7.3}},[s("div",[s("div",{staticClass:"username"},[t._v("\n                "+t._s(e.nicknames)+"\n                "),"girl"==e.sex?s("i",{staticClass:"iconfont icon-nvsheng"}):s("i",{staticClass:"iconfont icon-nansheng"})]),t._v(" "),s("div",{staticClass:"direc"},[t._v(t._s(e.dates))])])]),t._v(" "),e.userid!=(t.userInfo?t.userInfo.id:"")?s("flexbox-item",{staticClass:"x-button-box",attrs:{span:3}},[s("x-button",{directives:[{name:"show",rawName:"v-show",value:e.followed,expression:"designItem.followed"}],staticClass:"x-button",attrs:{mini:"",gradients:["rgb(525,97,66)","rgb(525,97,66)"]},nativeOn:{click:function(s){return s.stopPropagation(),t.follow(e)}}},[t._v("已关注")]),t._v(" "),s("x-button",{directives:[{name:"show",rawName:"v-show",value:!e.followed,expression:"!designItem.followed"}],staticClass:"x-button no-follow",attrs:{mini:""},nativeOn:{click:function(s){return s.stopPropagation(),t.follow(e)}}},[t._v("关注")])],1):t._e()],1),t._v(" "),s("flexbox",{staticClass:"design-item-box"},[s("flexbox-item",{attrs:{span:1.7}}),t._v(" "),s("flexbox-item",{attrs:{span:10.3}},[t._v(t._s(e.descriptions))])],1),t._v(" "),s("flexbox",{staticClass:"design-item-box"},[s("flexbox-item",{attrs:{span:1.7}}),t._v(" "),s("flexbox-item",{staticClass:"design-item",class:e.class,attrs:{span:10.3}},t._l(e.images,function(i,n){return s("img",{key:n,staticClass:"design-item-img",attrs:{src:i.thumbs},on:{click:function(s){return s.stopPropagation(),t.show(n,e)}}})}),0)],1),t._v(" "),s("flexbox",[s("flexbox-item",{attrs:{span:1.7}}),t._v(" "),s("flexbox-item",{attrs:{span:10.3}},[s("div",{staticClass:"design-item-menus"},[s("span",{staticClass:"design-item-praise",class:1==e.praised?"liked":"",on:{click:function(s){return s.stopPropagation(),t.liking(e)}}},[s("i",{staticClass:"iconfont icon-dianzan"}),t._v("\n                "+t._s(e.praisesnums)+"\n              ")]),t._v(" "),s("span",{staticClass:"design-item-comment"},[s("i",{staticClass:"iconfont icon-pinglun",on:{click:function(s){return s.stopPropagation(),t.toDetail(e,"comment")}}}),t._v("\n                "+t._s(e.commentsnums)+"\n              ")]),t._v(" "),s("span",{staticClass:"design-item-menu"},[s("i",{staticClass:"iconfont icon-gengduo",on:{click:function(s){return s.stopPropagation(),t.showMenu(e)}}})])])])],1)],1)})],2)]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.previewList.list.length?s("div",{staticClass:"preview"},[s("div",{staticClass:"preview-swiper-box"},[s("swiper",{staticClass:"previewSwiper",attrs:{"dots-class":"test","dots-position":"center",loop:"",height:"70vh",list:t.previewList.list},model:{value:t.previewList.index,callback:function(e){t.$set(t.previewList,"index",e)},expression:"previewList.index"}}),t._v(" "),s("span",{staticClass:"preview-icon shoucang",on:{click:function(e){return t.imgCollect(t.previewList.list[t.previewList.index],t.previewList.userId)}}},[s("i",{staticClass:"iconfont icon-shoucang",class:1==t.previewList.list[t.previewList.index].collected?"collected":""})]),t._v(" "),s("span",{staticClass:"preview-icon xiazai"},[s("i",{staticClass:"iconfont icon-xiazai",on:{click:function(e){return t.downs(t.previewList.list[t.previewList.index])}}})]),t._v(" "),s("span",{staticClass:"preview-icon shang",on:{click:function(e){return t.togglePopup("reward")}}},[s("i",{staticClass:"iconfont icon-shang"})]),t._v(" "),s("span",{staticClass:"preview-icon fenxiang"},[s("i",{staticClass:"iconfont icon-fenxiang",on:{click:function(e){return t.selectShare(t.previewList.list[t.previewList.index])}}})]),t._v(" "),s("span",{staticClass:"preview-icon guanbi",on:{click:t.previewClose}},[s("i",{staticClass:"iconfont icon-guanbi"})])],1)]):t._e()]),t._v(" "),s("div",[s("popup",{staticStyle:{"background-color":"#fff","border-radius":"calc(20 *2 / 7.5 * 1vw) calc(20 *2 / 7.5 * 1vw) 0 0"},attrs:{height:"calc(270 *2 / 7.5 * 1vw)","show-mask":!1},model:{value:t.popup.popupState,callback:function(e){t.$set(t.popup,"popupState",e)},expression:"popup.popupState"}},[s("div",{staticClass:"reward-box"},[s("div",{staticClass:"reward-title-box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"pay"==t.popup.type,expression:"popup.type=='pay'"}],staticClass:"back-reward",on:{click:t.backSelectReward}},[t._v("返回")]),t._v(" "),"reward"==t.popup.type?s("span",[t._v("选择打赏金额")]):s("span",[t._v("选择支付方式")]),t._v(" "),s("i",{staticClass:"iconfont icon-danchuangguanbi",on:{click:function(e){return t.togglePopup("reward")}}})]),t._v(" "),"reward"==t.popup.type?s("div",{staticClass:"reward-content-box"},[s("flexbox",{staticClass:"reward-content",attrs:{wrap:"wrap"}},t._l(t.rewards.list,function(e,i){return s("flexbox-item",{key:i,attrs:{span:4}},[s("div",{staticClass:"reward-item",class:{selected:i==t.rewards.seleted}},[s("span",{on:{click:function(e){return t.rewardSelected(i)}}},[t._v(t._s(e)+"元")])])])}),1),t._v(" "),s("x-input",{staticClass:"reward-input",attrs:{"is-type":"number",placeholder:"输入打赏金额"},model:{value:t.confirmReward,callback:function(e){t.confirmReward=e},expression:"confirmReward"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.confirmReward,expression:"confirmReward"}],staticStyle:{"font-size":"calc(12 *2 / 7.5 * 1vw)",color:"rgb(252,97,66)"},attrs:{slot:"right"},on:{click:t.toPay},slot:"right"},[t._v("确认")])])],1):s("div",{staticClass:"select-pay"},[s("div",{staticStyle:{"text-align":"center",color:"rgb(252,97,66)"}},[t._v(t._s(t.confirmReward)+"元")]),t._v(" "),s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.cellArr,function(e,i){return s("div",{key:i,on:{click:function(s){return t.selectPay(e)}}},[s("cell",{attrs:{title:e.title}},[s("i",{staticClass:"iconfont",class:e.lefticonclass,attrs:{slot:"icon"},slot:"icon"}),t._v(" "),s("i",{staticClass:"iconfont",class:e.righticonclass,attrs:{slot:"default"},slot:"default"})])],1)}),0)]),t._v(" "),s("x-button",{staticClass:"pay-commit",nativeOn:{click:function(e){return t.payCommit(e)}}},[t._v("立即支付")])],1)])])],1),t._v(" "),s("popup",{staticClass:"menu-popup",model:{value:t.menuBoxShow,callback:function(e){t.menuBoxShow=e},expression:"menuBoxShow"}},[s("div",{on:{click:function(e){return e.stopPropagation(),t.toogleReportPopup(e)}}},[t._v("举报")]),t._v(" "),s("div",{on:{click:function(e){return e.stopPropagation(),t.showMenu(e)}}},[t._v("取消")])]),t._v(" "),s("popup",{staticStyle:{"background-color":"#fff","border-radius":"calc(20 *2 / 7.5 * 1vw) calc(20 *2 / 7.5 * 1vw) 0 0"},attrs:{height:"calc(330 *2 / 7.5 * 1vw)"},model:{value:t.showReportPopup,callback:function(e){t.showReportPopup=e},expression:"showReportPopup"}},[s("div",{staticClass:"reward-box"},[s("div",{staticClass:"reward-title-box"},[s("span",[t._v("举报")]),t._v(" "),s("i",{staticClass:"iconfont icon-danchuangguanbi",on:{click:function(e){return t.toogleReportPopup()}}})]),t._v(" "),s("card",{staticClass:"card report-box"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.reportCellArr,function(e,i){return s("div",{key:i,staticClass:"report-item",on:{click:function(s){return t.selectReport(e)}}},[s("cell",{attrs:{title:e.title}},[s("i",{staticClass:"iconfont",class:e.lefticonclass,attrs:{slot:"icon"},slot:"icon"}),t._v(" "),s("i",{staticClass:"iconfont",class:e.righticonclass,attrs:{slot:"default"},slot:"default"})])],1)}),0)])],1),t._v(" "),s("div",[s("x-button",{staticClass:"report-commit",nativeOn:{click:function(e){return t.reportCommit(e)}}},[t._v("确定")])],1)]),t._v(" "),s("popup",{staticClass:"menu-popup",model:{value:t.sharePopup,callback:function(e){t.sharePopup=e},expression:"sharePopup"}},[s("div",{on:{click:function(e){return e.stopPropagation(),t.share("friend")}}},[t._v("分享给微信好友")]),t._v(" "),s("div",{on:{click:function(e){return e.stopPropagation(),t.share("friends")}}},[t._v("分享给微信朋友圈")]),t._v(" "),s("div",{on:{click:function(e){e.stopPropagation(),t.sharePopup=!1}}},[t._v("取消")])])],1):t._e()},ql=[],zl={render:Hl,staticRenderFns:ql},Wl=zl,Xl=s("VU/8"),Jl=z,Gl=Xl(jl,Wl,!1,Jl,null,null),Yl=Gl.exports,Zl=(function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n,a=this;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$vux.loading.show({text:"Loading"}),e=this.$route.query.id,this.disnId=e,s=localStorage.getItem("userInfo"),i=void 0,n=void 0,s?(this.userInfo=JSON.parse(s),i="/materials/details?sources_id="+e+"&loginid="+this.userInfo.id,n="/materials/commentslists?loginid="+this.userInfo.id+"&sources_id="+e+"&pages="+this.pageNum+"&rowsmaxs=10"):(i="/materials/details?sources_id="+e,n="/materials/commentslists?sources_id="+e+"&pages="+this.pageNum+"&rowsmaxs=10"),t.next=9,_s.getData({url:i,method:"get"});case 9:return this.designItem=t.sent,this.designItem.images.forEach(function(t,e){a.designImgList.push({img:t.thumbs})}),t.next=13,_s.getData({url:n,method:"get"});case 13:return this.commentList=t.sent,this.pageNum++,t.next=17,_s.getData({url:"/materials/praisepayers?loginid="+this.designItem.userid,method:"get"});case 17:return this.avatarList=t.sent,t.next=20,_s.getData({url:"/materials/commenttotals?sources_id="+e,method:"get"});case 20:this.commentCount=t.sent,this.designItem.sex=1==this.designItem.gender?"boy":"girl",this.$vux.loading.hide(),this.pageShow=!0;case 24:case"end":return t.stop()}},t,this)}))}(),Ts.a,Ns.a,{data:function(){return{pageShow:!1,disnId:"",designItem:null,commentList:null,pageNum:1,avatarList:null,commentCount:0,designImgList:[],userInfo:null,messageBadge:"80",comment:"",cellArr:[{title:"支付宝",lefticonclass:"icon-zhifubao",righticonclass:"icon-weixuanzhong"}],popup:{popupState:!1,type:"reward"},rewards:{list:[.01,.1,.5,1,5,10],seleted:-1},selectPayMethod:"",confirmReward:"",menuBoxShow:!1,showReportPopup:!1,reportCellArr:[{title:"淫秽色情",lefticonclass:"",righticonclass:"icon-weixuanzhong"},{title:"违法信息",lefticonclass:"",righticonclass:"icon-weixuanzhong"},{title:"营销广告",lefticonclass:"",righticonclass:"icon-weixuanzhong"},{title:"恶意攻击谩骂",lefticonclass:"",righticonclass:"icon-weixuanzhong"}]}},created:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n,a=this;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$vux.loading.show({text:"Loading"}),e=this.$route.query.id,this.disnId=e,s=localStorage.getItem("userInfo"),i=void 0,n=void 0,s?(this.userInfo=JSON.parse(s),i="/materials/details?sources_id="+e+"&loginid="+this.userInfo.id,n="/materials/commentslists?loginid="+this.userInfo.id+"&sources_id="+e+"&pages="+this.pageNum+"&rowsmaxs=10"):(i="/materials/details?sources_id="+e,n="/materials/commentslists?sources_id="+e+"&pages="+this.pageNum+"&rowsmaxs=10"),t.next=9,_s.getData({url:i,method:"get"});case 9:return this.designItem=t.sent,this.designItem.images.forEach(function(t,e){a.designImgList.push({img:t.thumbs})}),t.next=13,_s.getData({url:n,method:"get"});case 13:return this.commentList=t.sent,this.pageNum++,t.next=17,_s.getData({url:"/materials/praisepayers?loginid="+this.designItem.userid,method:"get"});case 17:return this.avatarList=t.sent,t.next=20,_s.getData({url:"/materials/commenttotals?sources_id="+e,method:"get"});case 20:this.commentCount=t.sent,this.designItem.sex=1==this.designItem.gender?"boy":"girl",this.$vux.loading.hide(),this.pageShow=!0;case 24:case"end":return t.stop()}},t,this)}));return t}(),mounted:function(){},methods:{showMenu:function(t){this.menuBoxShow=!this.menuBoxShow,this.currentDesignItem=t},toogleReportPopup:function(){this.menuBoxShow=!1,this.showReportPopup=!this.showReportPopup},selectReport:function(t){this.confirmContent=t.title,this.reportCellArr.forEach(function(t,e){t.righticonclass="icon-weixuanzhong"}),t.righticonclass="icon-xuanzhong"},reportCommit:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.confirmContent){e.next=9;break}return t.$vux.loading.show({text:"Loading"}),e.next=4,_s.request({url:"/materials/reports",method:"post",param:{loginid:t.userInfo.id,users_mains_id:t.currentDesignItem.userid,reasons:t.confirmContent,types:2,targets_id:t.disnId}});case 4:s=e.sent,"success"==s.return_code?(t.$vux.toast.show({text:s.return_data}),t.showReportPopup=!1,t.confirmContent=""):t.$vux.alert.show({title:"提示",content:s.return_data}),t.$vux.loading.hide(),e.next=10;break;case 9:t.$vux.alert.show({title:"提示",content:"请选择举报内容"});case 10:case"end":return e.stop()}},e,t)}))()},show:function(t,e){this.previewList.index=t,this.previewList.list=e},follow:function(t){var e=this;return at()(it.a.mark(function s(){var i,n;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=t.followed?0:1,!e.userInfo){s.next=9;break}return s.next=4,_s.request({url:"/materials/usersfollows",method:"post",param:{users_mains_id:t.userid,loginid:e.userInfo.id,types:i}});case 4:n=s.sent,"success"==n.return_code&&(t.followed=i),e.$vux.toast.show({text:n.return_data}),s.next=10;break;case 9:e.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){e.$router.push({path:"/page/user/LoginIndex"})}});case 10:case"end":return s.stop()}},s,e)}))()},liking:function(t){var e=this;return at()(it.a.mark(function s(){var i;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.userInfo){s.next=15;break}if(1!=t.score){s.next=5;break}e.$vux.alert.show({title:"提示",content:"已经给过差评了"}),s.next=13;break;case 5:if(5!=t.score){s.next=9;break}e.$vux.alert.show({title:"提示",content:"不能重复点赞"}),s.next=13;break;case 9:return s.next=11,_s.request({url:"/materials/scores",method:"post",param:{users_mains_id:t.userid,loginid:e.userInfo.id,types:1,scores:5,targets_id:e.disnId}});case 11:i=s.sent,"success"==i.return_code?(e.$vux.toast.show({text:i.return_data}),t.score=5,t.praisesnums++):e.$vux.alert.show({title:"提示",content:i.return_data});case 13:s.next=16;break;case 15:e.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){e.$router.push({path:"/page/user/LoginIndex"})}});case 16:case"end":return s.stop()}},s,e)}))()},bading:function(t){var e=this;return at()(it.a.mark(function s(){var i;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.userInfo){s.next=15;break}if(5!=t.score){s.next=5;break}e.$vux.alert.show({title:"提示",content:"已经给过好评了"}),s.next=13;break;case 5:if(1!=t.score){s.next=9;break}e.$vux.alert.show({title:"提示",content:"不能重复差评"}),s.next=13;break;case 9:return s.next=11,_s.request({url:"/materials/scores",method:"post",param:{users_mains_id:t.userid,loginid:e.userInfo.id,types:1,scores:1,targets_id:e.disnId}});case 11:i=s.sent,"success"==i.return_code?(e.$vux.toast.show({text:i.return_data}),t.score=1,t.badsnums++):e.$vux.alert.show({title:"提示",content:i.return_data});case 13:s.next=16;break;case 15:e.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){e.$router.push({path:"/page/user/LoginIndex"})}});case 16:case"end":return s.stop()}},s,e)}))()},commentsCommit:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.userInfo){e.next=3;break}return t.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){t.$router.push({path:"/page/user/LoginIndex"})}}),e.abrupt("return",!1);case 3:if(t.comment){e.next=6;break}return t.$vux.alert.show({title:"提示",content:"评论内容不能为空"}),e.abrupt("return",!1);case 6:return e.next=8,_s.request({url:"/materials/comments",method:"post",param:{users_mains_id:t.designItem.userid,loginid:t.userInfo.id,sources_id:t.disnId,comments:t.comment}});case 8:if(s=e.sent,"success"!=s.return_code){e.next=18;break}return t.comment="",t.commentCount++,t.$vux.toast.show({text:s.return_data}),e.next=15,_s.getData({url:"/materials/commentslists?sources_id="+t.disnId+"&loginid="+t.userInfo.id,method:"get"});case 15:t.commentList=e.sent,e.next=19;break;case 18:t.$vux.alert.show({title:"提示",content:s.return_data});case 19:case"end":return e.stop()}},e,t)}))()},commentLiking:function(t){var e=this;return at()(it.a.mark(function s(){var i;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.userInfo){s.next=11;break}if(1!=t.praised){s.next=5;break}e.$vux.alert.show({title:"提示",content:"不能重复点赞"}),s.next=9;break;case 5:return s.next=7,_s.request({url:"/materials/scores",method:"post",param:{users_mains_id:t.userid,loginid:e.userInfo.id,types:2,scores:5,targets_id:t.id}});case 7:i=s.sent,"success"==i.return_code?(e.$vux.toast.show({text:i.return_data}),t.praised=1,t.praisesnums++):e.$vux.alert.show({title:"提示",content:i.return_data});case 9:s.next=12;break;case 11:e.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){e.$router.push({path:"/page/user/LoginIndex"})}});case 12:case"end":return s.stop()}},s,e)}))()},togglePopup:function(t){this.popup.type=t,this.popup.popupState=!this.popup.popupState},rewardSelected:function(t){this.confirmReward=this.rewards.list[t],this.rewards.seleted=t,this.toPay()},toPay:function(){this.popup.type="pay"},backSelectReward:function(){this.confirmReward="",this.popup.type="reward"},selectPay:function(t){this.selectPayMethod=t.title,this.cellArr.forEach(function(t,e){t.righticonclass="icon-weixuanzhong"}),t.righticonclass="icon-xuanzhong"},payCommit:function(){var t=this;return at()(it.a.mark(function e(){var s,i;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.userInfo){e.next=13;break}if(t.selectPayMethod){e.next=5;break}t.$vux.alert.show({title:"提示",content:"请选择付款方式"}),e.next=11;break;case 5:if("支付宝"!=t.selectPayMethod){e.next=11;break}return e.next=8,_s.getData({url:"/materials/praisepays",method:"post",param:{loginid:t.userInfo.id,users_mains_id:t.designItem.userid,moneys:t.confirmReward}});case 8:s=e.sent,i=s,window.Alipay.pay(i,function(e){t.$vux.toast.show({text:"打赏成功"})},function(t){console.error(t)});case 11:e.next=14;break;case 13:t.$vux.confirm.show({title:"提示",content:"请先登录",onConfirm:function(){t.$router.push({path:"/page/user/LoginIndex"})}});case 14:case"end":return e.stop()}},e,t)}))()},onInfinite:function(t){var e=this;if(1==this.pageNum)return t(),!1;setTimeout(at()(it.a.mark(function s(){var i,n,a;return it.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=void 0,n=void 0,e.userInfo?(i="/materials/details?sources_id="+e.disnId+"&loginid="+e.userInfo.id,n="/materials/commentslists?loginid="+e.userInfo.id+"&sources_id="+e.disnId+"&pages="+e.pageNum+"&rowsmaxs=10"):(i="/materials/details?sources_id="+e.disnId,n="/materials/commentslists?sources_id="+e.disnId+"&pages="+e.pageNum+"&rowsmaxs=10"),s.next=4,_s.getData({url:n,method:"get"});case 4:if(""!=(a=s.sent)){s.next=8;break}return e.$refs.scroller.finishInfinite(2),s.abrupt("return",!1);case 8:e.commentList=e.commentList.concat(a),e.pageNum++,t();case 10:case"end":return s.stop()}},s,e)})),1e3)},toDetail:function(t){this.$router.push({path:"/page/user/MyRelease",name:"MyRelease",params:{id:t,type:"other"}})}},components:{XHeader:Se,Swiper:Xo,XButton:Gn,Flexbox:Ts.a,FlexboxItem:Ns.a,XImg:Fe,Badge:kt,Popup:zt,Card:Je,Cell:fs,XInput:fi}}),Kl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.pageShow?s("div",{staticClass:"DesignDetail"},[s("scroller",{ref:"scroller",class:t.commentCount<5?"hide-scroller":"",attrs:{"on-infinite":t.onInfinite,noDataText:"我是有底线的..."}},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("详情\n    ")]),t._v(" "),s("div",{staticClass:"content-box"},[s("div",{staticClass:"design-list"},[s("flexbox",{staticClass:"flexbox",nativeOn:{click:function(e){return t.toDetail(t.designItem.userid)}}},[s("flexbox-item",{attrs:{span:1.7}},[s("img",{staticClass:"avatar",attrs:{src:t.designItem.users_logos||"static/img/default-avatar.png",alt:""}})]),t._v(" "),s("flexbox-item",{attrs:{span:7.3}},[s("div",[s("div",{staticClass:"username"},[t._v("\n                "+t._s(t.designItem.nicknames)+"\n                "),"girl"==t.designItem.sex?s("i",{staticClass:"iconfont icon-nvsheng"}):s("i",{staticClass:"iconfont icon-nansheng"})]),t._v(" "),s("div",{staticClass:"direc"},[t._v(t._s(t.designItem.time))])])]),t._v(" "),t.designItem.userid!=(t.userInfo?t.userInfo.id:"")?s("flexbox-item",{staticClass:"x-button-box",attrs:{span:3}},[s("x-button",{directives:[{name:"show",rawName:"v-show",value:t.designItem.followed,expression:"designItem.followed"}],staticClass:"x-button",attrs:{mini:"",gradients:["rgb(525,97,66)","rgb(525,97,66)"]},nativeOn:{click:function(e){return e.stopPropagation(),t.follow(t.designItem)}}},[t._v("已关注")]),t._v(" "),s("x-button",{directives:[{name:"show",rawName:"v-show",value:!t.designItem.followed,expression:"!designItem.followed"}],staticClass:"x-button no-follow",attrs:{mini:""},nativeOn:{click:function(e){return e.stopPropagation(),t.follow(t.designItem)}}},[t._v("关注")])],1):t._e()],1),t._v(" "),s("flexbox",{staticClass:"design-item-box"},[s("flexbox-item",{staticClass:"desc"},[t._v(t._s(t.designItem.descriptions))])],1),t._v(" "),s("flexbox",{staticClass:"design-item-box"},[s("flexbox-item",[s("swiper",{staticClass:"swiper",attrs:{height:"calc(300 *2 / 7.5 * 1vw)",loop:"",list:t.designImgList}})],1)],1),t._v(" "),s("flexbox",[s("flexbox-item",[s("div",{staticClass:"design-item-menus"},[s("span",{staticClass:"design-item-praise",class:5==t.designItem.score?"liked":"",on:{click:function(e){return e.stopPropagation(),t.liking(t.designItem)}}},[s("i",{staticClass:"iconfont icon-dianzan"}),t._v("\n                "+t._s(t.designItem.praisesnums)+"\n              ")]),t._v(" "),s("span",{staticClass:"design-item-comment",class:1==t.designItem.score?"liked":"",on:{click:function(e){return e.stopPropagation(),t.bading(t.designItem)}}},[s("i",{staticClass:"iconfont icon-chaping"}),t._v("\n                "+t._s(t.designItem.badsnums)+"\n              ")]),t._v(" "),s("span",{staticClass:"design-item-menu"},[s("i",{staticClass:"iconfont icon-gengduo",on:{click:function(e){return e.stopPropagation(),t.showMenu(t.designItem)}}})])])])],1),t._v(" "),s("div",{staticClass:"avatar-list"},[s("flexbox",[s("flexbox-item",{staticClass:"avatar-item-box",attrs:{span:9}},[t._l(t.avatarList.userlist,function(t,e){return s("img",{key:e,staticClass:"avatar-item",attrs:{src:t.logos||"static/img/default-avatar.png",alt:""}})}),t._v(" "),6==t.avatarList.length?s("span",[t._v(t._s(t.avatarList.totals))]):t._e()],2),t._v(" "),s("flexbox-item",{attrs:{span:3}},[s("x-button",{staticClass:"avatar-btn",attrs:{mini:""},nativeOn:{click:function(e){return t.togglePopup("reward")}}},[t._v("赞赏")])],1)],1)],1),t._v(" "),t.commentCount?t._e():s("div",{staticStyle:{"text-align":"center",color:"#ccc"}},[t._v("暂时还没有人评论呢")]),t._v(" "),t.commentCount?s("div",{staticClass:"comment-title"},[t._v(t._s(t.commentCount)+"条评论")]):t._e(),t._v(" "),t._l(t.commentList,function(e,i){return t.commentCount?s("div",{key:i,staticClass:"comments-box"},[s("flexbox",{staticClass:"flexbox"},[s("flexbox-item",{attrs:{span:1.7}},[s("img",{staticClass:"avatar",attrs:{src:e.users_logos||"static/img/default-avatar.png",alt:""}})]),t._v(" "),s("flexbox-item",{attrs:{span:7.3}},[s("div",[s("div",{staticClass:"username"},[t._v(t._s(e.nicknames))]),t._v(" "),s("div",{staticClass:"direc"},[t._v(t._s(e.times))])])]),t._v(" "),s("flexbox-item",{staticClass:"x-button-box",attrs:{span:3}},[s("span",{staticClass:"design-item-comment",class:1==e.praised?"liked":""},[s("i",{staticClass:"iconfont icon-dianzan",class:1==e.praised?"liked":"",on:{click:function(s){return t.commentLiking(e)}}}),t._v("\n                "+t._s(e.praisesnums)+"\n              ")])])],1),t._v(" "),s("flexbox",{staticClass:"design-item-box"},[s("flexbox-item",{attrs:{span:1.7}}),t._v(" "),s("flexbox-item",{staticClass:"desc",attrs:{span:10.3}},[t._v(t._s(e.comments))])],1)],1):t._e()})],2)])],1),t._v(" "),s("div",{staticClass:"comment-box"},[s("x-input",{staticClass:"comment-input",attrs:{placeholder:"你的评论可以一针见血"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),t._v(" "),s("x-button",{staticClass:"comment-commit",attrs:{mini:""},nativeOn:{click:function(e){return t.commentsCommit(e)}}},[t._v("提交")])],1),t._v(" "),s("div",[s("popup",{staticClass:"reward-popup",staticStyle:{"background-color":"#fff","border-radius":"calc(20 *2 / 7.5 * 1vw) calc(20 *2 / 7.5 * 1vw) 0 0"},attrs:{height:"calc(270 *2 / 7.5 * 1vw)"},model:{value:t.popup.popupState,callback:function(e){t.$set(t.popup,"popupState",e)},expression:"popup.popupState"}},[s("div",{staticClass:"reward-box"},[s("div",{staticClass:"reward-title-box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"pay"==t.popup.type,expression:"popup.type=='pay'"}],staticClass:"back-reward",on:{click:t.backSelectReward}},[t._v("返回")]),t._v(" "),"reward"==t.popup.type?s("span",[t._v("选择打赏金额")]):s("span",[t._v("选择支付方式")]),t._v(" "),s("i",{staticClass:"iconfont icon-danchuangguanbi",on:{click:function(e){return t.togglePopup("reward")}}})]),t._v(" "),"reward"==t.popup.type?s("div",{staticClass:"reward-content-box"},[s("flexbox",{staticClass:"reward-content",attrs:{wrap:"wrap"}},t._l(t.rewards.list,function(e,i){return s("flexbox-item",{key:i,attrs:{span:4}},[s("div",{staticClass:"reward-item",class:{selected:i==t.rewards.seleted}},[s("span",{on:{click:function(e){return t.rewardSelected(i)}}},[t._v(t._s(e)+"元")])])])}),1),t._v(" "),s("x-input",{staticClass:"reward-input",attrs:{"is-type":"number",placeholder:"输入打赏金额"},model:{value:t.confirmReward,callback:function(e){t.confirmReward=e},expression:"confirmReward"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.confirmReward,expression:"confirmReward"}],staticStyle:{"font-size":"calc(12 *2 / 7.5 * 1vw)",color:"rgb(252,97,66)"},attrs:{slot:"right"},on:{click:t.toPay},slot:"right"},[t._v("确认")])])],1):s("div",{staticClass:"select-pay"},[s("div",{staticStyle:{"text-align":"center",color:"rgb(252,97,66)"}},[t._v(t._s(t.confirmReward)+"元")]),t._v(" "),s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.cellArr,function(e,i){return s("div",{key:i,on:{click:function(s){return t.selectPay(e)}}},[s("cell",{attrs:{title:e.title}},[s("i",{staticClass:"iconfont",class:e.lefticonclass,attrs:{slot:"icon"},slot:"icon"}),t._v(" "),s("i",{staticClass:"iconfont",class:e.righticonclass,attrs:{slot:"default"},slot:"default"})])],1)}),0)]),t._v(" "),s("x-button",{staticClass:"pay-commit",nativeOn:{click:function(e){return t.payCommit(e)}}},[t._v("立即支付")])],1)])])],1),t._v(" "),s("popup",{staticClass:"menu-popup",model:{value:t.menuBoxShow,callback:function(e){t.menuBoxShow=e},expression:"menuBoxShow"}},[s("div",{on:{click:function(e){return e.stopPropagation(),t.toogleReportPopup(e)}}},[t._v("举报")]),t._v(" "),s("div",{on:{click:function(e){return e.stopPropagation(),t.showMenu(e)}}},[t._v("取消")])]),t._v(" "),s("popup",{staticStyle:{"background-color":"#fff","border-radius":"calc(20 *2 / 7.5 * 1vw) calc(20 *2 / 7.5 * 1vw) 0 0"},attrs:{height:"calc(330 *2 / 7.5 * 1vw)"},model:{value:t.showReportPopup,callback:function(e){t.showReportPopup=e},expression:"showReportPopup"}},[s("div",{staticClass:"reward-box"},[s("div",{staticClass:"reward-title-box"},[s("span",[t._v("举报")]),t._v(" "),s("i",{staticClass:"iconfont icon-danchuangguanbi",on:{click:function(e){return t.toogleReportPopup()}}})]),t._v(" "),s("card",{staticClass:"card report-box"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.reportCellArr,function(e,i){return s("div",{key:i,staticClass:"report-item",on:{click:function(s){return t.selectReport(e)}}},[s("cell",{attrs:{title:e.title}},[s("i",{staticClass:"iconfont",class:e.lefticonclass,attrs:{slot:"icon"},slot:"icon"}),t._v(" "),s("i",{staticClass:"iconfont",class:e.righticonclass,attrs:{slot:"default"},slot:"default"})])],1)}),0)])],1),t._v(" "),s("div",[s("x-button",{staticClass:"report-commit",nativeOn:{click:function(e){return t.reportCommit(e)}}},[t._v("确定")])],1)])],1):t._e()},Ql=[],tc={render:Kl,staticRenderFns:Ql},ec=tc,sc=s("VU/8"),ic=W,nc=sc(Zl,ec,!1,ic,null,null),ac=nc.exports,rc=(Ts.a,Ns.a,{data:function(){return{designList:[{avatar:"src/assets/img/test/avatar.png",username:"齐衡小公爷",direc:"2019-02-21 11:10:52",message:"打赏10元"},{avatar:"src/assets/img/test/avatar.png",username:"齐衡小公爷",direc:"2019-02-21 11:10:52",message:"打赏10元"},{avatar:"src/assets/img/test/avatar.png",username:"齐衡小公爷",direc:"2019-02-21 11:10:52",message:"打赏10元"},{avatar:"src/assets/img/test/avatar.png",username:"齐衡小公爷",direc:"2019-02-21 11:10:52",message:"打赏10元"},{avatar:"src/assets/img/test/avatar.png",username:"齐衡小公爷",direc:"2019-02-21 11:10:52",message:"打赏10元"}]}},created:function(){},methods:{},components:{XHeader:Se,Flexbox:Ts.a,FlexboxItem:Ns.a}}),oc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Message"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("消息")]),t._v(" "),t._l(t.designList,function(e,i){return s("div",{key:i,staticClass:"design-list"},[s("flexbox",{staticClass:"flexbox"},[s("flexbox-item",{attrs:{span:1.7}},[s("img",{staticClass:"avatar",attrs:{src:e.avatar,alt:""}})]),t._v(" "),s("flexbox-item",{attrs:{span:7.3}},[s("div",[s("div",{staticClass:"username"},[t._v(t._s(e.username))]),t._v(" "),s("div",{staticClass:"direc"},[t._v(t._s(e.direc))])])]),t._v(" "),s("flexbox-item",{staticClass:"x-button-box",attrs:{span:3}},[s("span",{staticClass:"message"},[t._v("\n          "+t._s(e.message)+"\n        ")])])],1)],1)})],2)},lc=[],cc={render:oc,staticRenderFns:lc},uc=cc,hc=s("VU/8"),dc=X,pc=hc(rc,uc,!1,dc,null,null),mc=pc.exports,fc={data:function(){return{desc:"",btnClass:"",imgList:[]}},created:function(){var t=this.$route.params;this.imgList=t.photos},methods:{next:function(){this.desc?(this.$router.push({path:"/page/release/SelectLabel",params:{desc:this.desc}}),sessionStorage.setItem("imgDesc",this.desc)):this.$vux.alert.show({title:"提示",content:"图片描述不能为空"})}},components:{XHeader:Se,Grid:pa,GridItem:ya,XTextarea:Nn,XButton:Gn},watch:{desc:function(t){this.btnClass=t?"active":""}}},vc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Release"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("发布")]),t._v(" "),s("div",{staticClass:"img-list"},[s("grid",{staticClass:"grid",attrs:{cols:4,"show-lr-borders":!1,"show-vertical-dividers":!1}},t._l(t.imgList,function(t,e){return s("grid-item",{key:e,staticClass:"grid-item"},[s("img",{staticClass:"previewer-demo-img",attrs:{src:t}})])}),1),t._v(" "),s("x-textarea",{staticClass:"x-textarea",attrs:{height:30,placeholder:"说点什么"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}}),t._v(" "),s("div",{staticClass:"commit-btn-box"},[s("x-button",{staticClass:"commit-btn",class:t.btnClass,nativeOn:{click:function(e){return t.next(e)}}},[t._v("下一步")])],1)],1)],1)},gc=[],xc={render:vc,staticRenderFns:gc},wc=xc,_c=s("VU/8"),bc=J,yc=_c(fc,wc,!1,bc,null,null),Cc=yc.exports,kc=(Ts.a,Ns.a,{data:function(){return{imgInfo:{},cellArr:[{name:"绿亮科创园",address:"上海市虹梅南路2588号",righticonclass:"icon-weixuanzhong",selectClass:"icon-xuanzhong"},{name:"绿亮科创园",address:"上海市虹梅南路2588号",righticonclass:"icon-weixuanzhong",selectClass:""},{name:"绿亮科创园",address:"上海市虹梅南路2588号",righticonclass:"icon-weixuanzhong",selectClass:""},{name:"绿亮科创园",address:"上海市虹梅南路2588号",righticonclass:"icon-weixuanzhong",selectClass:""}]}},created:function(){var t=this.$route.params;this.imgInfo.desc=t.desc},methods:{selectAddress:function(t){this.imgInfo.address=t,this.cellArr.forEach(function(t,e){t.selectClass=""}),t.selectClass="icon-xuanzhong"},next:function(){this.$router.push({path:"/page/release/SelectLabel",params:{imgInfo:this.imgInfo}})}},components:{XHeader:Se,Flexbox:Ts.a,FlexboxItem:Ns.a,Card:Je,Cell:fs,Group:Ms,XButton:Gn}}),Sc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"SelectAddress"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("选择地理位置")]),t._v(" "),s("group",{attrs:{title:"附近位置"}},[s("card",{staticClass:"card"},[s("div",{attrs:{slot:"content"},slot:"content"},t._l(t.cellArr,function(e,i){return s("div",{key:i,on:{click:function(s){return t.selectAddress(e)}}},[s("cell",{attrs:{title:e.name}},[s("span",{attrs:{slot:"inline-desc"},slot:"inline-desc"},[t._v(t._s(e.address))]),t._v(" "),s("i",{staticClass:"iconfont",class:e.righticonclass+" "+e.selectClass,attrs:{slot:"default"},slot:"default"})])],1)}),0)])],1),t._v(" "),s("div",{staticClass:"commit-btn-box"},[s("x-button",{staticClass:"commit-btn",nativeOn:{click:function(e){return t.next(e)}}},[t._v("下一步")])],1)],1)},Ic=[],$c={render:Sc,staticRenderFns:Ic},Lc=$c,Vc=s("VU/8"),Tc=G,Nc=Vc(kc,Lc,!1,Tc,null,null),Dc=Nc.exports,Bc=(function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n=this;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_s.getData({url:"/materials/topicslists",method:"post"});case 2:return e=t.sent,e.forEach(function(t,e){n.topicList.push({text:t.tits,id:t.id,selectClass:""})}),t.next=6,_s.getData({url:"/materials/labelslists",method:"post"});case 6:s=t.sent,s.forEach(function(t,e){n.allLabelList.push({text:t.tits,id:t.id,selectClass:""})}),i=sessionStorage.getItem("photos"),i&&(i=JSON.parse(i),i.forEach(function(){var t=at()(it.a.mark(function t(e,s){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_s.convertImg(e,675,934);case 2:t.t0=t.sent,n.photos+="||"+t.t0;case 4:case"end":return t.stop()}},t,n)}));return function(e,s){return t.apply(this,arguments)}}()));case 10:case"end":return t.stop()}},t,this)}))}(),{data:function(){return{topicList:[],allLabelList:[],selectLabelList:[],selectTopic:"",photos:""}},created:function(){function t(){return e.apply(this,arguments)}var e=at()(it.a.mark(function t(){var e,s,i,n=this;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_s.getData({url:"/materials/topicslists",method:"post"});case 2:return e=t.sent,e.forEach(function(t,e){n.topicList.push({text:t.tits,id:t.id,selectClass:""})}),t.next=6,_s.getData({url:"/materials/labelslists",method:"post"});case 6:s=t.sent,s.forEach(function(t,e){n.allLabelList.push({text:t.tits,id:t.id,selectClass:""})}),i=sessionStorage.getItem("photos"),i&&(i=JSON.parse(i),i.forEach(function(){var t=at()(it.a.mark(function t(e,s){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_s.convertImg(e,675,934);case 2:t.t0=t.sent,n.photos+="||"+t.t0;case 4:case"end":return t.stop()}},t,n)}));return function(e,s){return t.apply(this,arguments)}}()));case 10:case"end":return t.stop()}},t,this)}));return t}(),methods:{selectLabel:function(t){if("selected"==t.selectClass)this.selectLabelList.splice(this.selectLabelList.indexOf(t.id),1);else{if(this.selectLabelList.length>=5)return this.$vux.alert.show({title:"提示",content:"标签最多选择5个"}),!1;this.selectLabelList.push(t.id+"")}t.selectClass="selected"==t.selectClass?"":"selected"},selectedTopic:function(t){"selected"==t.selectClass?this.selectTopic=t.selectClass="":(this.topicList.forEach(function(t,e){t.selectClass=""}),t.selectClass="selected",this.selectTopic=t.id)},release:function(){var t=this;return at()(it.a.mark(function e(){var s,i,n;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("userInfo"),i=sessionStorage.getItem("imgDesc"),s&&(s=JSON.parse(s)),t.$vux.loading.show({text:"努力上传中..."}),e.next=6,_s.request({url:"/materials/adds",method:"post",param:{loginid:s.id+"",descriptions:i+"",updata:t.photos.slice(2),labels_id:t.selectLabelList,topics_id:t.selectTopic+""}});case 6:n=e.sent,t.$vux.loading.hide(),"success"==n.return_code?(sessionStorage.removeItem("photos"),sessionStorage.removeItem("imgDesc"),t.$vux.toast.show({text:n.return_data,type:"text",onHide:function(){t.$router.push({path:"/"})}})):t.$vux.alert.show({title:"提示",content:n.return_data});case 9:case"end":return e.stop()}},e,t)}))()}},components:{XHeader:Se,Group:Ms,Grid:pa,GridItem:ya,XButton:Gn}}),Rc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"SelectLabel"},[s("x-header",{staticClass:"x-header",attrs:{"left-options":{backText:""}}},[t._v("选择标签")]),t._v(" "),s("group",{attrs:{title:"热门标签"}},[s("grid",{staticClass:"grid",attrs:{"show-lr-borders":!1,"show-vertical-dividers":!1,cols:3}},t._l(t.topicList,function(e,i){return s("grid-item",{key:i,staticClass:"grid-item"},[s("span",{staticClass:"label",class:e.selectClass,on:{click:function(s){return t.selectedTopic(e)}}},[t._v(t._s(e.text))])])}),1)],1),t._v(" "),s("group",{attrs:{title:"全部标签"}},[s("grid",{staticClass:"grid",attrs:{"show-lr-borders":!1,"show-vertical-dividers":!1,cols:3}},t._l(t.allLabelList,function(e,i){return s("grid-item",{key:i,staticClass:"grid-item"},[s("span",{staticClass:"label",class:e.selectClass,on:{click:function(s){return t.selectLabel(e)}}},[t._v(t._s(e.text))])])}),1)],1),t._v(" "),s("div",{staticClass:"commit-btn-box"},[s("x-button",{staticClass:"commit-btn",nativeOn:{click:function(e){return t.release(e)}}},[t._v("发布")])],1)],1)},Ac=[],Oc={render:Rc,staticRenderFns:Ac},Ec=Oc,Fc=s("VU/8"),Pc=Y,Mc=Fc(Bc,Ec,!1,Pc,null,null),Uc=Mc.exports,jc=(Ts.a,Ns.a,{data:function(){return{imgList:{index:0,currentImg:"",list:[]}}},created:function(){var t=this.$route.params;t&&(this.imgList.list=t.photos,this.imgList.currentImg=this.imgList.list[0])},methods:{back:function(){this.$router.back()},selectImg:function(t){this.imgList.index=t,this.imgList.currentImg=this.imgList.list[t]},deleteImg:function(t){this.imgList.list.splice(t,1),this.imgList.list.length<=0&&this.$router.back(),t==this.imgList.index&&(this.imgList.currentImg=this.imgList.list[0],this.imgList.index=0)},takePhoto:function(){var t=this;return at()(it.a.mark(function e(){var s;return it.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.imgList.list.length>=9)){e.next=4;break}t.$vux.alert.show({title:"提示",content:"单次发布最多9张"}),e.next=8;break;case 4:return e.next=6,Jt();case 6:s=e.sent,t.imgList.list.push(s);case 8:case"end":return e.stop()}},e,t)}))()},next:function(){this.$router.push({path:"/page/release/Release",name:"Release",params:{photos:this.imgList.list}}),sessionStorage.setItem("photos",gs()(this.imgList.list))}},components:{XHeader:Se,Flexbox:Ts.a,FlexboxItem:Ns.a,XImg:Fe}}),Hc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ReleaseImgEdit"},[s("i",{staticClass:"iconfont icon-danchuangguanbi back",attrs:{slot:"left"},on:{click:t.back},slot:"left"}),t._v(" "),s("div",{staticClass:"img-box"},[s("x-img",{staticClass:"select-img",attrs:{"default-src":t.imgList.currentImg,alt:""}}),t._v(" "),s("div",{staticClass:"img-list"},[s("flexbox",t._l(t.imgList.list,function(e,i){return s("flexbox-item",{key:i,attrs:{span:2.4}},[s("div",{staticClass:"img-item-box"},[s("img",{class:t.imgList.index==i?"selectImg":"",attrs:{src:e,alt:""},on:{click:function(e){return t.selectImg(i)}}}),t._v(" "),s("i",{staticClass:"iconfont icon-danchuangguanbi",on:{click:function(e){return t.deleteImg(i)}}})])])}),1)],1)],1),t._v(" "),s("div",{staticClass:"edit-btn-box"},[s("div",{staticClass:"go-take-photo"},[t._v("点击继续拍照")]),t._v(" "),s("flexbox",[s("flexbox-item",[s("div",{staticClass:"flex-demo"},[s("i",{staticClass:"iconfont icon-lvjing"}),t._v("\n          滤镜\n        ")])]),t._v(" "),s("flexbox-item",[s("div",{staticClass:"flex-demo"},[s("i",{staticClass:"iconfont icon-xiangji",on:{click:t.takePhoto}})])]),t._v(" "),s("flexbox-item",[s("div",{staticClass:"flex-demo"},[s("i",{staticClass:"iconfont icon-xiayibu",on:{click:t.next}})])])],1)],1)])},qc=[],zc={render:Hc,staticRenderFns:qc},Wc=zc,Xc=s("VU/8"),Jc=Z,Gc=Xc(jc,Wc,!1,Jc,null,null),Yc=Gc.exports,Zc=[{path:"/",name:"TakePhoto",component:Yl,meta:{index:0}},{path:"/page/UserIndex",name:"UserIndex",component:Vs,meta:{index:4}},{path:"/page/user/SetUserInfo",name:"SetUserInfo",component:Mn,meta:{index:5}},{path:"/page/MyRelease",name:"MyRelease",component:Na,meta:{index:6}},{path:"/page/MyFollow",name:"MyFollow",component:na,meta:{index:7}},{path:"/page/MyCollect",name:"MyCollect",component:Qa,meta:{index:8}},{path:"/page/MyFan",name:"MyFan",component:lr,meta:{index:9}},{path:"/page/MyIncome",name:"MyIncome",component:xr,meta:{index:10}},{path:"/page/MySet",name:"MySet",component:$r,meta:{index:11}},{path:"/page/AboutUs",name:"AboutUs",component:Or,meta:{index:12}},{path:"/page/IncomeAccount",name:"IncomeAccount",component:zr,meta:{index:13}},{path:"/page/IncomeRecord",name:"IncomeRecord",component:to,meta:{index:14}},{path:"/page/ReportOpinion",name:"ReportOpinion",component:co,meta:{index:15}},{path:"/page/ServicePact",name:"ServicePact",component:wo,meta:{index:16}},{path:"/page/take_photo/DesignDetail",name:"DesignDetail",component:ac,meta:{index:17}},{path:"/page/user/LoginIndex",name:"LoginIndex",component:sl,meta:{index:18}},{path:"/page/user/ForgetPwd",name:"ForgetPwd",component:Eo,meta:{index:19}},{path:"/page/user/Register",name:"Register",component:Dl,meta:{index:20}},{path:"/page/user/MobileNumLogin",name:"MobileNumLogin",component:Cl,meta:{index:21}},{path:"/page/user/MobileInfoLogin",name:"MobileInfoLogin",component:hl,meta:{index:22}},{path:"/page/user/MobileInfoVerification",name:"MobileInfoVerification",component:Lo,meta:{index:23}},{path:"/page/take_photo/Message",name:"Message",component:mc,meta:{index:24}},{path:"/page/release/ReleaseImgEdit",name:"ReleaseImgEdit",component:Yc,meta:{index:25,keepAlive:!0}},{path:"/page/release/Release",name:"Release",component:Cc,meta:{index:26,keepAlive:!0}},{path:"/page/release/SelectAddress",name:"SelectAddress",component:Dc,meta:{index:27,keepAlive:!0}},{path:"/page/release/SelectLabel",name:"SelectLabel",component:Uc,meta:{index:28,keepAlive:!0}},{path:"/page/user/BandUserInfo",name:"BandUserInfo",component:Ul,meta:{index:29}}];K.a.use(ml.a);var Kc={userInfo:{}},Qc={userInfo:function(t){return t.userInfo}},tu={updateUserInfo:function(t,e){t.userInfo=e}},eu={updateUserInfo:function(t){t.commit("userInfo")}},su=new ml.a.Store({state:Kc,getters:Qc,mutations:tu,actions:eu}),iu=su,nu=s("POcy"),au=s.n(nu),ru=s("Peep"),ou=s("3BeM"),lu=s("Y+qm"),cu=s("NXWw");K.a.use(ae,{appid:"wxebf7146b68f2e818"}),K.a.use(au.a),K.a.use(cu.a),K.a.use(ou.a,{position:"center"}),K.a.use(ru.a),K.a.use(lu.a),K.a.use(et.a);var uu=new et.a({routes:Zc});tt.a.attach(document.body),K.a.config.productionTip=!1,document.addEventListener("deviceready",function(){new K.a({router:uu,store:iu,render:function(t){return t(me)}}).$mount("#app-box"),window.navigator.splashscreen.hide()},!1)},Ozxy:function(t,e){},P2gy:function(t,e){},Qt30:function(t,e){},SJou:function(t,e){},TEg0:function(t,e){},Tkzw:function(t,e){},U4t6:function(t,e){},UIt7:function(t,e){},VXwM:function(t,e){},W3sw:function(t,e){},XKpp:function(t,e){},YxJB:function(t,e,s){"use strict";function i(t){s("UIt7")}var n=(Number,String,String,String,String,String,{name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}),a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===t.orient,"vux-flex-row":"horizontal"===t.orient},style:t.styles},[t._t("default")],2)},r=[],o={render:a,staticRenderFns:r},l=o,c=s("VU/8"),u=i,h=c(n,l,!1,u,null,null);e.a=h.exports},Zvmn:function(t,e){},cZO8:function(t,e){},fNHR:function(t,e){},g1BM:function(t,e){},g5WP:function(t,e){},ibxO:function(t,e){},jNmg:function(t,e){},"jnM/":function(t,e){},lOIT:function(t,e){},loFO:function(t,e){},m3lC:function(t,e){},mL5d:function(t,e){},mzja:function(t,e,s){"use strict";function i(t){s("L3+R")}var n=s("/kga"),a=(n.a,Boolean,String,String,String,Boolean,String,String,Number,String,{name:"alert",components:{XDialog:n.a},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}}}),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-alert"},[s("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){return t.$emit("on-hide")},"on-show":function(e){return t.$emit("on-show")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[s("div",{staticClass:"weui-dialog__hd"},[s("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),s("div",{staticClass:"weui-dialog__bd"},[t._t("default",[s("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onHide}},[t._v(t._s(t.buttonText||"确定"))])])])],1)},o=[],l={render:r,staticRenderFns:o},c=l,u=s("VU/8"),h=i,d=u(a,c,!1,h,null,null);e.a=d.exports},o6Ww:function(t,e){},ob0I:function(t,e){},"ok/j":function(t,e){},ooNg:function(t,e){},"qv/J":function(t,e){},rLAy:function(t,e,s){"use strict";function i(t){s("g5WP")}var n=s("xNvf"),a=(n.a,Boolean,Number,String,String,String,Boolean,String,String,{name:"toast",mixins:[n.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(t){var e=this;t&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1,e.$emit("input",!1),e.$emit("on-hide"),e.fixSafariOverflowScrolling("touch")},this.time))},value:function(t){this.show=t}}}),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-toast"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask&&t.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),t._v(" "),s("transition",{attrs:{name:t.currentTransition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-toast",class:t.toastClass,style:{width:t.width}},[s("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==t.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),t._v(" "),t.text?s("p",{staticClass:"weui-toast__content",style:t.style,domProps:{innerHTML:t._s(t.text)}}):s("p",{staticClass:"weui-toast__content",style:t.style},[t._t("default")],2)])])],1)},o=[],l={render:r,staticRenderFns:o},c=l,u=s("VU/8"),h=i,d=u(a,c,!1,h,null,null);e.a=d.exports},s99l:function(t,e){},vhib:function(t,e){},wUFq:function(t,e){},wZSV:function(t,e){},"z/Mi":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e771e4afcac4725fdd98.js.map